{"ast":null,"code":"import _slicedToArray from\"D:/projects/Overture/DevOTWebUI/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useSearchParams}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import React,{useEffect,useState}from\"react\";import{useDispatch}from\"react-redux\";import{setLoadingPageTrue,setLoadingPageFalse}from\"../common/Loader/action\";import useConfiguration from\"../../hooks/useConfiguration\";import requestUtil from\"../../helpers/requestUtil\";import Loader from\"../common/Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default(function(){var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,2),searchParams=_useSearchParams2[0],setSearchParams=_useSearchParams2[1];var code=encodeURIComponent(searchParams.get(\"activationCode\"));var config=useConfiguration();var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),activationSuccess=_useState2[0],setActivationSuccess=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),activationMessage=_useState4[0],setActivationMessage=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),activationSuccessNumber=_useState6[0],setactivationSuccessNumber=_useState6[1];var url=config.baseUrl;var dispatch=useDispatch();useEffect(function(){document.title=\"Activate\";dispatch(setLoadingPageTrue());if(code&&url){// requestUtil(`${url}/Candidates/activate/${code}`, \"POST\").then((result) => {\nrequestUtil(\"\".concat(url,\"/Candidates/activateuser\"),\"POST\",{EncryptedString:code}).then(function(result){dispatch(setLoadingPageFalse());setActivationSuccess(true);setActivationMessage(result.message);setactivationSuccessNumber(1);}).catch(function(error){dispatch(setLoadingPageFalse());setActivationSuccess(false);setActivationMessage(error.message);setactivationSuccessNumber(2);});}},[code,url]);return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block pos-static\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-login100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wrap-login100 p-6\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"login100-form validate-form\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"login100-form-title pb-5\",children:/*#__PURE__*/_jsx(\"a\",{href:\"\",children:/*#__PURE__*/_jsx(\"img\",{src:\"assets/images/brand/Overturelogofull.png\",className:\"header-brand-img\",alt:\"\"})})}),activationSuccessNumber==1&&/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body text-center p-4 pb-5\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-check fs-70 text-success lh-1 my-4 d-inline-block\"}),/*#__PURE__*/_jsxs(\"h4\",{className:\"text-success mb-4\",children:[\"Congratulations!\",/*#__PURE__*/_jsx(\"br\",{}),activationMessage]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Please login and submit your profile.\"})}),/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-primary\",href:\"#\",onClick:function onClick(event){event.preventDefault();navigate(\"/\");},children:\"OK\"})]})}),activationSuccessNumber==2&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"toast wrap-input100 align-items-center text-white bg-danger border-0 show\",role:\"alert\",\"aria-live\":\"assertive\",\"aria-atomic\":\"true\",\"data-bs-autohide\":\"false\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex\",children:/*#__PURE__*/_jsx(\"div\",{className:\"toast-body\",children:activationMessage||'Activation failed! Please try again.'})})}),/*#__PURE__*/_jsx(\"div\",{children:\"\\xA0\"})]})]})})})})})})]});});","map":{"version":3,"sources":["D:/projects/Overture/DevOTWebUI/src/components/Activate/index.js"],"names":["useSearchParams","useNavigate","React","useEffect","useState","useDispatch","setLoadingPageTrue","setLoadingPageFalse","useConfiguration","requestUtil","Loader","searchParams","setSearchParams","code","encodeURIComponent","get","config","navigate","activationSuccess","setActivationSuccess","activationMessage","setActivationMessage","activationSuccessNumber","setactivationSuccessNumber","url","baseUrl","dispatch","document","title","EncryptedString","then","result","message","catch","error","event","preventDefault"],"mappings":"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","sourcesContent":["import {useSearchParams} from \"react-router-dom\";\nimport {useNavigate} from \"react-router-dom\";\nimport React, {useEffect, useState} from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {setLoadingPageTrue, setLoadingPageFalse} from \"../common/Loader/action\";\nimport useConfiguration from \"../../hooks/useConfiguration\";\nimport requestUtil from \"../../helpers/requestUtil\";\nimport Loader from \"../common/Loader\";\n\nexport default () => {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const code = encodeURIComponent(searchParams.get(\"activationCode\"));\n    const config = useConfiguration();\n    const navigate = useNavigate();\n    const [activationSuccess, setActivationSuccess] = useState(false);\n    const [activationMessage, setActivationMessage] = useState(\"\");\n    const [activationSuccessNumber, setactivationSuccessNumber] = useState(0);\n    const url = config.baseUrl;\n    const dispatch = useDispatch();\n    useEffect(() => {\n        document.title = \"Activate\";\n        dispatch(setLoadingPageTrue());\n        if (code && url) {\n            // requestUtil(`${url}/Candidates/activate/${code}`, \"POST\").then((result) => {\n            requestUtil(`${url}/Candidates/activateuser`, \"POST\", {EncryptedString: code}).then((result) => {\n                dispatch(setLoadingPageFalse());\n                setActivationSuccess(true);\n                setActivationMessage(result.message);\n                setactivationSuccessNumber(1);\n\n            }).catch((error) => {\n                dispatch(setLoadingPageFalse());\n                setActivationSuccess(false)\n                setActivationMessage(error.message);\n                setactivationSuccessNumber(2);\n            });\n        }\n    }, [code, url]);\n    return (\n        <div className=\"\">\n            <Loader/>\n            <div className=\"\">\n                <div className=\"\">\n                    <div className=\"modal d-block pos-static\">\n                        <div className=\"container-login100\">\n                            <div className=\"wrap-login100 p-6\">\n                                <form className=\"login100-form validate-form\">\n                                <span className=\"login100-form-title pb-5\">\n                                    <a href=\"\"><img src=\"assets/images/brand/Overturelogofull.png\"\n                                                    className=\"header-brand-img\" alt=\"\"/></a>\n                                </span>\n                                    {\n                                        activationSuccessNumber == 1 && <div className=\"\">\n                                            <div className=\"modal-body text-center p-4 pb-5\">\n                                                <i className=\"icon icon-check fs-70 text-success lh-1 my-4 d-inline-block\"></i>\n                                                <h4 className=\"text-success mb-4\">\n                                                    Congratulations!<br/>\n                                                    {activationMessage}\n                                                </h4>\n                                                <p className=\"mb-4\">\n                                                    <h4>\n                                                        Please login and submit your profile.\n                                                    </h4>\n                                                </p>\n                                                <a className=\"btn btn-primary\" href=\"#\" onClick={(event => {\n                                                    event.preventDefault();\n                                                    navigate(\"/\");\n                                                })}>OK</a>\n                                            </div>\n                                        </div>\n                                    }\n                                    {\n                                        activationSuccessNumber == 2 && <>\n                                            <div\n                                                className=\"toast wrap-input100 align-items-center text-white bg-danger border-0 show\"\n                                                role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\"\n                                                data-bs-autohide=\"false\">\n                                                <div className=\"d-flex\">\n                                                    <div className=\"toast-body\">\n                                                        {activationMessage || 'Activation failed! Please try again.'}\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div>&nbsp;</div>\n                                        </>\n                                    }\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}