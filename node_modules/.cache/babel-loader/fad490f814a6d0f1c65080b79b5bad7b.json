{"ast":null,"code":"import _asyncToGenerator from\"D:/projects/Overture/DevOTWebUI/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"D:\\\\projects\\\\Overture\\\\DevOTWebUI\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{setResumeBuilderData,setNoResume,setWorkHistory,setEducation,setCertifications,addPrimaryCertification,removePrimaryCertification,setSpecialities,setEducationLevel,addPrimaryEmrEhr,removePrimaryEmrEhr,setEmrEhr,setResumeFile,addCategory,removeCategory,setMasterDatas}from'./slice';import{setError}from\"../slice\";import{setLoading}from\"../../common/Loader/slice\";import requestUtil from\"../../../helpers/requestUtil\";import{nextTab}from\"../action\";import{stateToServer}from'./transformer';import{updateProfileFlag}from\"../../Login/action\";export function updateEducationLevel(level){return function(dispatch){dispatch(setEducationLevel(level));};}export function updateNoResume(data){return function(dispatch){dispatch(setNoResume(data));};}export function updateWorkHistory(workHistory){return function(dispatch){dispatch(setWorkHistory(workHistory));};}export function updateEducation(education){return function(dispatch){dispatch(setEducation(education));};}export function updateSpeciality(speciality){return function(dispatch){dispatch(setSpecialities(speciality));};}export function updatePrimaryCertification(cert,action){return function(dispatch){switch(action){case'add':dispatch(addPrimaryCertification(cert));break;case'remove':dispatch(removePrimaryCertification(cert));break;default:break;}};}export function updatePrimaryEmrEhr(emrEhr,action){return function(dispatch){switch(action){case'add':dispatch(addPrimaryEmrEhr(emrEhr));break;case'remove':dispatch(removePrimaryEmrEhr(emrEhr));break;default:break;}};}export function updateCategory(category,action){return function(dispatch){switch(action){case'add':dispatch(addCategory(category));break;case'remove':dispatch(removeCategory(category));break;default:break;}};}export function updateEmrEhr(emrEhr){return function(dispatch){dispatch(setEmrEhr(emrEhr));};}export function updateCertification(certification){return function(dispatch){dispatch(setCertifications(certification));};}export function getCurrentResumeBuilder(_ref){var url=_ref.url,userId=_ref.userId;return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(setLoading(true));_context.prev=1;_context.next=4;return requestUtil(\"\".concat(url,\"/\").concat(userId),'GET');case 4:response=_context.sent;dispatch(setResumeBuilderData(response));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch(setError(_context.t0.message));case 11:dispatch(setLoading(false));case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref2.apply(this,arguments);};}();}export function saveResumeBuilder(_ref3){var url=_ref3.url,candidateId=_ref3.candidateId,userId=_ref3.userId,_ref3$gotoNextTab=_ref3.gotoNextTab,gotoNextTab=_ref3$gotoNextTab===void 0?true:_ref3$gotoNextTab;return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){var stateData,transformedData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(setLoading(true));stateData=getState().resumeBuilder;transformedData=stateToServer(stateData,candidateId,userId);_context2.prev=3;_context2.next=6;return requestUtil(\"\".concat(url,\"/Candidates/savejobinfo\"),'POST',transformedData);case 6:if(gotoNextTab){dispatch(nextTab());dispatch(updateProfileFlag('isJobInfoCompleted'));}_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](3);dispatch(setError(_context2.t0.message));case 12:dispatch(setLoading(false));case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[3,9]]);}));return function(_x2,_x3){return _ref4.apply(this,arguments);};}();}export function updateResumeFile(file){return function(dispatch){dispatch(setResumeFile(file));};}export function loadMasterDatas(url,jobId){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var educationLevel,jobCategories,certifications,emrehr,specialities;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch(setLoading(true));_context3.prev=1;_context3.next=4;return requestUtil(\"\".concat(url,\"/Dropdown/GetLevelOfEducations\"),'GET');case 4:educationLevel=_context3.sent;_context3.next=7;return requestUtil(\"\".concat(url,\"/Dropdown/getjobcategories/\").concat(jobId),'GET');case 7:jobCategories=_context3.sent;_context3.next=10;return requestUtil(\"\".concat(url,\"/Dropdown/getcertifications/\").concat(jobId),'GET');case 10:certifications=_context3.sent;_context3.next=13;return requestUtil(\"\".concat(url,\"/Dropdown/getemrehrsystems/\").concat(jobId),'GET');case 13:emrehr=_context3.sent;_context3.next=16;return requestUtil(\"\".concat(url,\"/Dropdown/getspecialties/\").concat(jobId),'GET');case 16:specialities=_context3.sent;dispatch(setMasterDatas({educationLevel:educationLevel,jobCategories:jobCategories,certifications:certifications,emrehr:emrehr,specialities:specialities}));_context3.next=23;break;case 20:_context3.prev=20;_context3.t0=_context3[\"catch\"](1);dispatch(setError(_context3.t0.message));case 23:dispatch(setLoading(false));case 24:case\"end\":return _context3.stop();}}},_callee3,null,[[1,20]]);}));return function(_x4){return _ref5.apply(this,arguments);};}();}export function uploadResume(url,userId,file){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var formdata;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch(setLoading(true));_context4.prev=1;formdata=new FormData();formdata.append('file',file);_context4.next=6;return requestUtil(\"\".concat(url,\"/Candidates/resumeupload?CandidateId=\").concat(userId),'POST',formdata,null,true);case 6:_context4.next=12;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](1);dispatch(updateResumeFile({name:''}));dispatch(setError(_context4.t0.message));case 12:dispatch(setLoading(false));case 13:case\"end\":return _context4.stop();}}},_callee4,null,[[1,8]]);}));return function(_x5){return _ref6.apply(this,arguments);};}();}","map":{"version":3,"sources":["D:/projects/Overture/DevOTWebUI/src/components/ProfileBuilder/ResumeBuilder/action.js"],"names":["setResumeBuilderData","setNoResume","setWorkHistory","setEducation","setCertifications","addPrimaryCertification","removePrimaryCertification","setSpecialities","setEducationLevel","addPrimaryEmrEhr","removePrimaryEmrEhr","setEmrEhr","setResumeFile","addCategory","removeCategory","setMasterDatas","setError","setLoading","requestUtil","nextTab","stateToServer","updateProfileFlag","updateEducationLevel","level","dispatch","updateNoResume","data","updateWorkHistory","workHistory","updateEducation","education","updateSpeciality","speciality","updatePrimaryCertification","cert","action","updatePrimaryEmrEhr","emrEhr","updateCategory","category","updateEmrEhr","updateCertification","certification","getCurrentResumeBuilder","url","userId","response","message","saveResumeBuilder","candidateId","gotoNextTab","getState","stateData","resumeBuilder","transformedData","updateResumeFile","file","loadMasterDatas","jobId","educationLevel","jobCategories","certifications","emrehr","specialities","uploadResume","formdata","FormData","append","name"],"mappings":"qPAAA,OAASA,oBAAT,CAA+BC,WAA/B,CAA4CC,cAA5C,CACIC,YADJ,CACkBC,iBADlB,CACqCC,uBADrC,CAC8DC,0BAD9D,CAEIC,eAFJ,CAEqBC,iBAFrB,CAEwCC,gBAFxC,CAE0DC,mBAF1D,CAE+EC,SAF/E,CAGIC,aAHJ,CAGmBC,WAHnB,CAGgCC,cAHhC,CAGgDC,cAHhD,KAGsE,SAHtE,CAIA,OAASC,QAAT,KAAyB,UAAzB,CACA,OAAQC,UAAR,KAAyB,2BAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,8BAAxB,CACA,OAAQC,OAAR,KAAsB,WAAtB,CACA,OAASC,aAAT,KAA8B,eAA9B,CACA,OAAQC,iBAAR,KAAgC,oBAAhC,CAEA,MAAO,SAASC,CAAAA,oBAAT,CAA8BC,KAA9B,CAAqC,CACxC,MAAO,UAACC,QAAD,CAAc,CACjBA,QAAQ,CAAChB,iBAAiB,CAACe,KAAD,CAAlB,CAAR,CACH,CAFD,CAGH,CACD,MAAO,SAASE,CAAAA,cAAT,CAAwBC,IAAxB,CAA8B,CACnC,MAAO,UAACF,QAAD,CAAc,CACnBA,QAAQ,CAACvB,WAAW,CAACyB,IAAD,CAAZ,CAAR,CACD,CAFD,CAGD,CACD,MAAO,SAASC,CAAAA,iBAAT,CAA2BC,WAA3B,CAAwC,CAC7C,MAAO,UAACJ,QAAD,CAAc,CACnBA,QAAQ,CAACtB,cAAc,CAAC0B,WAAD,CAAf,CAAR,CACD,CAFD,CAGD,CACD,MAAO,SAASC,CAAAA,eAAT,CAAyBC,SAAzB,CAAoC,CACzC,MAAO,UAACN,QAAD,CAAc,CACnBA,QAAQ,CAACrB,YAAY,CAAC2B,SAAD,CAAb,CAAR,CACD,CAFD,CAGD,CACD,MAAO,SAASC,CAAAA,gBAAT,CAA0BC,UAA1B,CAAsC,CAC3C,MAAO,UAACR,QAAD,CAAc,CACnBA,QAAQ,CAACjB,eAAe,CAACyB,UAAD,CAAhB,CAAR,CACD,CAFD,CAGD,CACD,MAAO,SAASC,CAAAA,0BAAT,CAAoCC,IAApC,CAA0CC,MAA1C,CAAkD,CACvD,MAAO,UAACX,QAAD,CAAc,CACjB,OAAQW,MAAR,EACI,IAAK,KAAL,CACIX,QAAQ,CAACnB,uBAAuB,CAAC6B,IAAD,CAAxB,CAAR,CACA,MACJ,IAAK,QAAL,CACIV,QAAQ,CAAClB,0BAA0B,CAAC4B,IAAD,CAA3B,CAAR,CACA,MACJ,QACI,MARR,CAUH,CAXD,CAYD,CAED,MAAO,SAASE,CAAAA,mBAAT,CAA6BC,MAA7B,CAAqCF,MAArC,CAA6C,CAClD,MAAO,UAACX,QAAD,CAAc,CACjB,OAAQW,MAAR,EACI,IAAK,KAAL,CACIX,QAAQ,CAACf,gBAAgB,CAAC4B,MAAD,CAAjB,CAAR,CACA,MACJ,IAAK,QAAL,CACIb,QAAQ,CAACd,mBAAmB,CAAC2B,MAAD,CAApB,CAAR,CACA,MACJ,QACI,MARR,CAUH,CAXD,CAYD,CACD,MAAO,SAASC,CAAAA,cAAT,CAAwBC,QAAxB,CAAkCJ,MAAlC,CAA0C,CAC7C,MAAO,UAACX,QAAD,CAAc,CACjB,OAAQW,MAAR,EACI,IAAK,KAAL,CACIX,QAAQ,CAACX,WAAW,CAAC0B,QAAD,CAAZ,CAAR,CACA,MACJ,IAAK,QAAL,CACIf,QAAQ,CAACV,cAAc,CAACyB,QAAD,CAAf,CAAR,CACA,MACJ,QACI,MARR,CAUH,CAXD,CAYH,CACD,MAAO,SAASC,CAAAA,YAAT,CAAsBH,MAAtB,CAA8B,CACnC,MAAO,UAACb,QAAD,CAAc,CACnBA,QAAQ,CAACb,SAAS,CAAC0B,MAAD,CAAV,CAAR,CACD,CAFD,CAGD,CACD,MAAO,SAASI,CAAAA,mBAAT,CAA6BC,aAA7B,CAA4C,CACjD,MAAO,UAAClB,QAAD,CAAc,CACnBA,QAAQ,CAACpB,iBAAiB,CAACsC,aAAD,CAAlB,CAAR,CACD,CAFD,CAGD,CAED,MAAO,SAASC,CAAAA,uBAAT,MAAgD,IAAdC,CAAAA,GAAc,MAAdA,GAAc,CAATC,MAAS,MAATA,MAAS,CACnD,gGAAO,iBAAMrB,QAAN,+HACHA,QAAQ,CAACP,UAAU,CAAC,IAAD,CAAX,CAAR,CADG,sCAGwBC,CAAAA,WAAW,WAAI0B,GAAJ,aAAWC,MAAX,EAAqB,KAArB,CAHnC,QAGOC,QAHP,eAICtB,QAAQ,CAACxB,oBAAoB,CAAC8C,QAAD,CAArB,CAAR,CAJD,+EAMCtB,QAAQ,CAACR,QAAQ,CAAC,YAAM+B,OAAP,CAAT,CAAR,CAND,QAQHvB,QAAQ,CAACP,UAAU,CAAC,KAAD,CAAX,CAAR,CARG,oEAAP,gEAUH,CAED,MAAO,SAAS+B,CAAAA,iBAAT,OAAyE,IAA7CJ,CAAAA,GAA6C,OAA7CA,GAA6C,CAAxCK,WAAwC,OAAxCA,WAAwC,CAA3BJ,MAA2B,OAA3BA,MAA2B,yBAAnBK,WAAmB,CAAnBA,WAAmB,4BAAP,IAAO,mBAC5E,gGAAO,kBAAO1B,QAAP,CAAiB2B,QAAjB,oJACH3B,QAAQ,CAACP,UAAU,CAAC,IAAD,CAAX,CAAR,CACMmC,SAFH,CAEeD,QAAQ,GAAGE,aAF1B,CAGGC,eAHH,CAGqBlC,aAAa,CAACgC,SAAD,CAAYH,WAAZ,CAAyBJ,MAAzB,CAHlC,yCAKO3B,CAAAA,WAAW,WAAI0B,GAAJ,4BAAkC,MAAlC,CAA0CU,eAA1C,CALlB,QAMC,GAAGJ,WAAH,CAAe,CACX1B,QAAQ,CAACL,OAAO,EAAR,CAAR,CACAK,QAAQ,CAACH,iBAAiB,CAAC,oBAAD,CAAlB,CAAR,CACH,CATF,mFAWCG,QAAQ,CAACR,QAAQ,CAAC,aAAM+B,OAAP,CAAT,CAAR,CAXD,QAaHvB,QAAQ,CAACP,UAAU,CAAC,KAAD,CAAX,CAAR,CAbG,sEAAP,qEAeH,CAED,MAAO,SAASsC,CAAAA,gBAAT,CAA0BC,IAA1B,CAAgC,CACnC,MAAO,UAAChC,QAAD,CAAc,CACjBA,QAAQ,CAACZ,aAAa,CAAC4C,IAAD,CAAd,CAAR,CACH,CAFD,CAGH,CAED,MAAO,SAASC,CAAAA,eAAT,CAAyBb,GAAzB,CAA8Bc,KAA9B,CAAqC,CACxC,gGAAO,kBAAMlC,QAAN,0LACHA,QAAQ,CAACP,UAAU,CAAC,IAAD,CAAX,CAAR,CADG,wCAG8BC,CAAAA,WAAW,WAAI0B,GAAJ,mCAAyC,KAAzC,CAHzC,QAGOe,cAHP,uCAI6BzC,CAAAA,WAAW,WAAI0B,GAAJ,uCAAqCc,KAArC,EAA8C,KAA9C,CAJxC,QAIOE,aAJP,wCAK8B1C,CAAAA,WAAW,WAAI0B,GAAJ,wCAAsCc,KAAtC,EAA+C,KAA/C,CALzC,SAKOG,cALP,wCAMsB3C,CAAAA,WAAW,WAAI0B,GAAJ,uCAAqCc,KAArC,EAA8C,KAA9C,CANjC,SAMOI,MANP,wCAO4B5C,CAAAA,WAAW,WAAI0B,GAAJ,qCAAmCc,KAAnC,EAA4C,KAA5C,CAPvC,SAOOK,YAPP,gBAQCvC,QAAQ,CAACT,cAAc,CAAC,CACpB4C,cAAc,CAAEA,cADI,CAEpBC,aAAa,CAAbA,aAFoB,CAGpBC,cAAc,CAAdA,cAHoB,CAIpBC,MAAM,CAANA,MAJoB,CAKpBC,YAAY,CAAZA,YALoB,CAAD,CAAf,CAAR,CARD,qFAgBCvC,QAAQ,CAACR,QAAQ,CAAC,aAAM+B,OAAP,CAAT,CAAR,CAhBD,QAkBHvB,QAAQ,CAACP,UAAU,CAAC,KAAD,CAAX,CAAR,CAlBG,uEAAP,iEAoBH,CAED,MAAO,SAAS+C,CAAAA,YAAT,CAAsBpB,GAAtB,CAA2BC,MAA3B,CAAmCW,IAAnC,CAAyC,CAC5C,gGAAO,kBAAMhC,QAAN,mIACHA,QAAQ,CAACP,UAAU,CAAC,IAAD,CAAX,CAAR,CADG,iBAGOgD,QAHP,CAGkB,GAAIC,CAAAA,QAAJ,EAHlB,CAICD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBX,IAAxB,EAJD,uBAKOtC,CAAAA,WAAW,WAAI0B,GAAJ,iDAA+CC,MAA/C,EAAyD,MAAzD,CAAiEoB,QAAjE,CAA2E,IAA3E,CAAiF,IAAjF,CALlB,2FAOCzC,QAAQ,CAAC+B,gBAAgB,CAAC,CACtBa,IAAI,CAAE,EADgB,CAAD,CAAjB,CAAR,CAGA5C,QAAQ,CAACR,QAAQ,CAAC,aAAM+B,OAAP,CAAT,CAAR,CAVD,QAYHvB,QAAQ,CAACP,UAAU,CAAC,KAAD,CAAX,CAAR,CAZG,sEAAP,iEAcH","sourcesContent":["import { setResumeBuilderData, setNoResume, setWorkHistory,\n    setEducation, setCertifications, addPrimaryCertification, removePrimaryCertification,\n    setSpecialities, setEducationLevel, addPrimaryEmrEhr, removePrimaryEmrEhr, setEmrEhr,\n    setResumeFile, addCategory, removeCategory, setMasterDatas } from './slice';\nimport { setError } from \"../slice\";\nimport {setLoading} from \"../../common/Loader/slice\";\nimport requestUtil from \"../../../helpers/requestUtil\";\nimport {nextTab} from \"../action\";\nimport { stateToServer } from './transformer';\nimport {updateProfileFlag} from \"../../Login/action\";\n\nexport function updateEducationLevel(level) {\n    return (dispatch) => {\n        dispatch(setEducationLevel(level));\n    }\n}\nexport function updateNoResume(data) {\n  return (dispatch) => {\n    dispatch(setNoResume(data));\n  };\n}\nexport function updateWorkHistory(workHistory) {\n  return (dispatch) => {\n    dispatch(setWorkHistory(workHistory));\n  };\n}\nexport function updateEducation(education) {\n  return (dispatch) => {\n    dispatch(setEducation(education));\n  };\n}\nexport function updateSpeciality(speciality) {\n  return (dispatch) => {\n    dispatch(setSpecialities(speciality));\n  };\n}\nexport function updatePrimaryCertification(cert, action) {\n  return (dispatch) => {\n      switch (action) {\n          case 'add':\n              dispatch(addPrimaryCertification(cert));\n              break;\n          case 'remove':\n              dispatch(removePrimaryCertification(cert));\n              break;\n          default:\n              break;\n      }\n  };\n}\n\nexport function updatePrimaryEmrEhr(emrEhr, action) {\n  return (dispatch) => {\n      switch (action) {\n          case 'add':\n              dispatch(addPrimaryEmrEhr(emrEhr));\n              break;\n          case 'remove':\n              dispatch(removePrimaryEmrEhr(emrEhr));\n              break;\n          default:\n              break;\n      }\n  };\n}\nexport function updateCategory(category, action) {\n    return (dispatch) => {\n        switch (action) {\n            case 'add':\n                dispatch(addCategory(category));\n                break;\n            case 'remove':\n                dispatch(removeCategory(category));\n                break;\n            default:\n                break;\n        }\n    };\n}\nexport function updateEmrEhr(emrEhr) {\n  return (dispatch) => {\n    dispatch(setEmrEhr(emrEhr));\n  };\n}\nexport function updateCertification(certification) {\n  return (dispatch) => {\n    dispatch(setCertifications(certification));\n  };\n}\n\nexport function getCurrentResumeBuilder({url, userId}) {\n    return async dispatch => {\n        dispatch(setLoading(true));\n        try {\n            const response = await requestUtil(`${url}/${userId}`, 'GET');\n            dispatch(setResumeBuilderData(response));\n        } catch (error) {\n            dispatch(setError(error.message))\n        }\n        dispatch(setLoading(false));\n    };\n}\n\nexport function saveResumeBuilder({url, candidateId, userId, gotoNextTab=true}) {\n    return async (dispatch, getState) => {\n        dispatch(setLoading(true));\n        const stateData = getState().resumeBuilder;\n        const transformedData = stateToServer(stateData, candidateId, userId);\n        try {\n            await requestUtil(`${url}/Candidates/savejobinfo`, 'POST', transformedData);\n            if(gotoNextTab){\n                dispatch(nextTab());\n                dispatch(updateProfileFlag('isJobInfoCompleted'));\n            }\n        } catch (error) {\n            dispatch(setError(error.message))\n        }\n        dispatch(setLoading(false));\n    };\n}\n\nexport function updateResumeFile(file) {\n    return (dispatch) => {\n        dispatch(setResumeFile(file));\n    };\n}\n\nexport function loadMasterDatas(url, jobId) {\n    return async dispatch => {\n        dispatch(setLoading(true));\n        try {\n            const educationLevel = await requestUtil(`${url}/Dropdown/GetLevelOfEducations`, 'GET');\n            const jobCategories = await requestUtil(`${url}/Dropdown/getjobcategories/${jobId}`, 'GET');\n            const certifications = await requestUtil(`${url}/Dropdown/getcertifications/${jobId}`, 'GET');\n            const emrehr = await requestUtil(`${url}/Dropdown/getemrehrsystems/${jobId}`, 'GET');\n            const specialities = await requestUtil(`${url}/Dropdown/getspecialties/${jobId}`, 'GET');\n            dispatch(setMasterDatas({\n                educationLevel: educationLevel,\n                jobCategories,\n                certifications,\n                emrehr,\n                specialities\n            }));\n        } catch (error) {\n            dispatch(setError(error.message))\n        }\n        dispatch(setLoading(false));\n    };\n}\n\nexport function uploadResume(url, userId, file) {\n    return async dispatch => {\n        dispatch(setLoading(true));\n        try {\n            const formdata = new FormData();\n            formdata.append('file', file);\n            await requestUtil(`${url}/Candidates/resumeupload?CandidateId=${userId}`, 'POST', formdata, null, true);\n        } catch (error) {\n            dispatch(updateResumeFile({\n                name: ''\n            }));\n            dispatch(setError(error.message))\n        }\n        dispatch(setLoading(false));\n    };\n}\n"]},"metadata":{},"sourceType":"module"}