{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\Overture\\\\DevOTWebUI\\\\src\\\\components\\\\UpdatePassword\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport Loader from \"../common/Loader\";\nimport Header from \"../common/Header\";\nimport Sidebar from \"../common/Sidebar\";\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport useSessionStorage from \"../../hooks/useSessionStorage\";\nimport TextField from \"../common/TextField\";\nimport requestUtil from \"../../helpers/requestUtil\";\nimport useConfiguration from \"../../hooks/useConfiguration\";\nimport useValidation from \"../../hooks/useValidation\";\nimport { setLoadingPageFalse, setLoadingPageTrue } from \"../common/Loader/action\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default _s(() => {\n  _s();\n\n  const storage = useSessionStorage();\n  const navigate = useNavigate();\n  const config = useConfiguration();\n  const dispatch = useDispatch();\n  const [currentPassword, setCurrentPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [formErrors, setFormErrors] = useState({});\n  const [passwordType, setPasswordType] = useState(\"password\");\n  const login = storage.getItem(\"login\");\n  const validate = useValidation();\n\n  const updateFormValue = target => {\n    if (target.name === \"currentPassword\") {\n      setCurrentPassword(target.value);\n    } else if (target.name === \"newPassword\") {\n      setNewPassword(target.value);\n    } else if (target.name === \"confirmPassword\") {\n      setConfirmPassword(target.value);\n    }\n  };\n\n  const validateForm = () => {\n    const result = validate('updatePassword', [{\n      name: 'currentPassword',\n      data: currentPassword\n    }, {\n      name: 'newPassword',\n      data: newPassword\n    }, {\n      name: 'confirmPassword',\n      data: confirmPassword\n    }]);\n\n    if (result.valid) {\n      setFormErrors({});\n    } else {\n      setFormErrors(result.errors);\n    }\n\n    return result.valid;\n  };\n\n  const customPasswordCheck = () => {\n    if (newPassword && confirmPassword) {\n      if (newPassword !== confirmPassword) {\n        setFormErrors({\n          'confirmPassword': [\"Password and Confirm Password must be same\"]\n        });\n        return false;\n      }\n    }\n\n    if (currentPassword && newPassword) {\n      if (currentPassword === newPassword) {\n        setFormErrors({\n          'newPassword': [\"New Password must be different from Current Password\"]\n        });\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  const updatePassword = event => {\n    event.preventDefault();\n\n    if (validateForm() && customPasswordCheck()) {\n      dispatch(setLoadingPageTrue());\n      requestUtil(`${config.baseUrl}/Candidates/changepassword/`, \"POST\", {\n        candidateId: login.candidateId,\n        oldPassword: currentPassword,\n        newPassword: newPassword\n      }).then(result => {\n        dispatch(setLoadingPageFalse());\n\n        if (result && result.isEmailExist) {\n          navigate(\"/dashboard\");\n        } else {\n          setErrorMessage(result.message);\n        }\n      }).catch(error => {\n        dispatch(setLoadingPageFalse());\n        setErrorMessage(error.message);\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (!login) {// navigate('/');\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-main\",\n      children: [/*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-content app-content mt-0 main-background\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"side-app\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main-container container-fluid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"page-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"page-title\",\n                children: \"Update Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"ol\", {\n                  className: \"breadcrumb\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"breadcrumb-item\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"javascript:void(0)\",\n                      children: \"Dashboard\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 73\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"breadcrumb-item\",\n                    \"aria-current\": \"page\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"javascript:void(0)\",\n                      children: \"Profile Builder\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 100,\n                      columnNumber: 93\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-xl-8\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"card-header\",\n                      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"card-title\",\n                        children: \"Update Password\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 110,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 109,\n                      columnNumber: 45\n                    }, this), errorMessage && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"toast wrap-input100 align-items-center text-white bg-danger border-0 show\",\n                        role: \"alert\",\n                        \"aria-live\": \"assertive\",\n                        \"aria-atomic\": \"true\",\n                        \"data-bs-autohide\": \"false\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"d-flex\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"toast-body\",\n                            children: errorMessage || 'Reset password failed! Please try again.'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 118,\n                            columnNumber: 61\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 117,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 115,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: \"\\xA0\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 123,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-12 col-xl-12\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"card-body\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"row\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"col-lg-6 col-md-12\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"form-group\",\n                              children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                                  htmlFor: \"exampleInputname\",\n                                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                                    children: [\"Email :\", login && login.email, \" \"]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 131,\n                                    columnNumber: 103\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 131,\n                                  columnNumber: 69\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 131,\n                                columnNumber: 65\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 130,\n                              columnNumber: 61\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 129,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 128,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"row\",\n                          children: /*#__PURE__*/_jsxDEV(TextField, {\n                            placeholder: \"Current Password*\",\n                            divClass: \"col-lg-6\",\n                            label: \"Current Password\",\n                            name: 'currentPassword',\n                            type: passwordType,\n                            iconClass: \"zmdi zmdi-eye-off text-muted\",\n                            errors: formErrors['currentPassword'],\n                            updateValue: updateFormValue\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 137,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 136,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"row\",\n                          children: /*#__PURE__*/_jsxDEV(TextField, {\n                            placeholder: \"New Password*\",\n                            divClass: \"col-lg-6\",\n                            label: \"New Password\",\n                            name: 'newPassword',\n                            type: passwordType,\n                            iconClass: \"zmdi zmdi-eye-off text-muted\",\n                            errors: formErrors['newPassword'],\n                            updateValue: updateFormValue\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 143,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 142,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"row\",\n                          children: /*#__PURE__*/_jsxDEV(TextField, {\n                            placeholder: \"Confirm Password*\",\n                            divClass: \"col-lg-6\",\n                            label: \"Confirm Password\",\n                            name: 'confirmPassword',\n                            type: passwordType,\n                            iconClass: \"zmdi zmdi-eye-off text-muted\",\n                            errors: formErrors['confirmPassword'],\n                            updateValue: updateFormValue\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 149,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 148,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 127,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"card-footer text-end\",\n                      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                        href: \"#\",\n                        className: \"btn btn-primary my-1\",\n                        onClick: updatePassword,\n                        children: \"Update Password\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 157,\n                        columnNumber: 49\n                      }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: \"#\",\n                        className: \"btn btn-danger my-1\",\n                        onClick: () => {\n                          navigate('/dashboard');\n                        },\n                        children: \"Cancel\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 159,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n}, \"iHp0jIw+TX5jtz7L0ZHcAC1WZws=\", false, function () {\n  return [useSessionStorage, useNavigate, useConfiguration, useDispatch, useValidation];\n});","map":{"version":3,"sources":["D:/projects/Overture/DevOTWebUI/src/components/UpdatePassword/index.js"],"names":["Loader","Header","Sidebar","React","useEffect","useState","useNavigate","useDispatch","useSessionStorage","TextField","requestUtil","useConfiguration","useValidation","setLoadingPageFalse","setLoadingPageTrue","storage","navigate","config","dispatch","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","errorMessage","setErrorMessage","formErrors","setFormErrors","passwordType","setPasswordType","login","getItem","validate","updateFormValue","target","name","value","validateForm","result","data","valid","errors","customPasswordCheck","updatePassword","event","preventDefault","baseUrl","candidateId","oldPassword","then","isEmailExist","message","catch","error","email"],"mappings":"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","sourcesContent":["import Loader from \"../common/Loader\";\nimport Header from \"../common/Header\";\nimport Sidebar from \"../common/Sidebar\";\nimport React, {useEffect, useState} from \"react\";\nimport {useNavigate} from \"react-router-dom\";\nimport {useDispatch} from \"react-redux\";\nimport useSessionStorage from \"../../hooks/useSessionStorage\";\nimport TextField from \"../common/TextField\";\nimport requestUtil from \"../../helpers/requestUtil\";\nimport useConfiguration from \"../../hooks/useConfiguration\";\nimport useValidation from \"../../hooks/useValidation\";\nimport {setLoadingPageFalse, setLoadingPageTrue} from \"../common/Loader/action\";\n\nexport default () => {\n    const storage = useSessionStorage();\n    const navigate = useNavigate();\n    const config = useConfiguration();\n    const dispatch = useDispatch();\n    const [currentPassword, setCurrentPassword] = useState('');\n    const [newPassword, setNewPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const [errorMessage, setErrorMessage] = useState(null);\n    const [formErrors, setFormErrors] = useState({});\n    const [passwordType, setPasswordType] = useState(\"password\");\n    const login = storage.getItem(\"login\");\n    const validate = useValidation();\n    const updateFormValue = (target) => {\n        if (target.name === \"currentPassword\") {\n            setCurrentPassword(target.value);\n        } else if (target.name === \"newPassword\") {\n            setNewPassword(target.value);\n        } else if(target.name === \"confirmPassword\") {\n            setConfirmPassword(target.value);\n        }\n    }\n    const validateForm = () => {\n        const result = validate('updatePassword', [{name: 'currentPassword', data: currentPassword} , {name: 'newPassword', data: newPassword}, {name: 'confirmPassword', data: confirmPassword}]);\n        if(result.valid){\n            setFormErrors({});\n        } else {\n            setFormErrors(result.errors);\n        }\n        return result.valid;\n    }\n    const customPasswordCheck = () => {\n        if(newPassword && confirmPassword){\n            if(newPassword !== confirmPassword){\n                setFormErrors({'confirmPassword': [\"Password and Confirm Password must be same\"]});\n                return false;\n            }\n        }\n        if(currentPassword && newPassword){\n            if(currentPassword === newPassword){\n                setFormErrors({'newPassword': [\"New Password must be different from Current Password\"]});\n                return false;\n            }\n        }\n        return true;\n    }\n    const updatePassword = (event) => {\n        event.preventDefault();\n        if(validateForm() && customPasswordCheck()) {\n            dispatch(setLoadingPageTrue());\n            requestUtil(`${config.baseUrl}/Candidates/changepassword/`, \"POST\", {\n                candidateId: login.candidateId,\n                oldPassword: currentPassword,\n                newPassword: newPassword\n            }).then((result) => {\n                dispatch(setLoadingPageFalse());\n                if (result && result.isEmailExist) {\n                    navigate(\"/dashboard\");\n                } else {\n                    setErrorMessage(result.message);\n                }\n            }).catch((error) => {\n                dispatch(setLoadingPageFalse());\n                setErrorMessage(error.message);\n            });\n        }\n    }\n    useEffect(() => {\n        if(!login) {\n           // navigate('/');\n        }\n    }, [])\n    return (\n        <div className=\"page\">\n            <div className=\"page-main\">\n                <Loader />\n                <Header />\n                <Sidebar />\n                <div className=\"main-content app-content mt-0 main-background\">\n                    <div className=\"side-app\">\n                        <div className=\"main-container container-fluid\">\n                            <div className=\"page-header\">\n                                <h1 className=\"page-title\">Update Password</h1>\n                                <div>\n                                    <ol className=\"breadcrumb\">\n                                        <li className=\"breadcrumb-item\"><a href=\"javascript:void(0)\">Dashboard</a></li>\n                                        <li className=\"breadcrumb-item\" aria-current=\"page\"><a\n                                            href=\"javascript:void(0)\">Profile Builder</a></li>\n                                    </ol>\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"row\">\n                                    <div className=\"col-xl-8\">\n                                        <div className=\"card\">\n                                            <div className=\"card-header\">\n                                                <h3 className=\"card-title\">Update Password</h3>\n                                            </div>\n                                            {\n                                                errorMessage &&\n                                                <>\n                                                    <div className=\"toast wrap-input100 align-items-center text-white bg-danger border-0 show\"\n                                                         role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-autohide=\"false\">\n                                                        <div className=\"d-flex\">\n                                                            <div className=\"toast-body\">\n                                                                {errorMessage || 'Reset password failed! Please try again.'}\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div>&nbsp;</div>\n                                                </>\n                                            }\n                                            <div className=\"col-md-12 col-xl-12\">\n                                                <div className=\"card-body\">\n                                                    <div className=\"row\">\n                                                        <div className=\"col-lg-6 col-md-12\">\n                                                            <div className=\"form-group\">\n                                                                <h5><label htmlFor=\"exampleInputname\"><b>Email :\n                                                                    {login && login.email} </b></label></h5>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"row\">\n                                                        <TextField placeholder={\"Current Password*\"} divClass={\"col-lg-6\"} label={\"Current Password\"}\n                                                                   name={'currentPassword'} type={passwordType} iconClass={\"zmdi zmdi-eye-off text-muted\"}\n                                                                   errors={formErrors['currentPassword']}\n                                                                   updateValue={updateFormValue}/>\n                                                    </div>\n                                                    <div className=\"row\">\n                                                        <TextField placeholder={\"New Password*\"} divClass={\"col-lg-6\"} label={\"New Password\"}\n                                                                   name={'newPassword'} type={passwordType} iconClass={\"zmdi zmdi-eye-off text-muted\"}\n                                                                   errors={formErrors['newPassword']}\n                                                                   updateValue={updateFormValue}/>\n                                                    </div>\n                                                    <div className=\"row\">\n                                                        <TextField placeholder={\"Confirm Password*\"} divClass={\"col-lg-6\"} label={\"Confirm Password\"}\n                                                                   name={'confirmPassword'} type={passwordType} iconClass={\"zmdi zmdi-eye-off text-muted\"}\n                                                                   errors={formErrors['confirmPassword']}\n                                                                   updateValue={updateFormValue}/>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div className=\"card-footer text-end\">\n                                                <a href=\"#\" className=\"btn btn-primary my-1\" onClick={updatePassword}>Update Password</a>\n                                                &nbsp;&nbsp;\n                                                <a href=\"#\" className=\"btn btn-danger my-1\" onClick={()=> {\n                                                    navigate('/dashboard');\n                                                }}>Cancel</a>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}