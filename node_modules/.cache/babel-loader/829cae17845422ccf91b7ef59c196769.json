{"ast":null,"code":"import _slicedToArray from\"D:/projects/Overture/DevOTWebUI/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useNavigate}from\"react-router-dom\";import React,{useState}from\"react\";import{useDispatch}from\"react-redux\";import useConfiguration from\"../../hooks/useConfiguration\";import useValidation from\"../../hooks/useValidation\";import TextField from\"../common/TextField\";import requestUtil from'../../helpers/requestUtil';import Loader from\"../common/Loader\";import{setLoadingPageTrue,setLoadingPageFalse}from\"../common/Loader/action\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default(function(){var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),successMessage=_useState8[0],setSuccessMessage=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),errorMessage=_useState10[0],setErrorMessage=_useState10[1];var validate=useValidation();var config=useConfiguration();var validateEmail=function validateEmail(){var result=validate(\"forgotPassword\",[{'name':'email',data:email}]);if(result.valid){setFormErrors({});}else{setFormErrors(result.errors);}return result.valid;};var gotoLogin=function gotoLogin(e){e.preventDefault();navigate(\"/\");};var resetPassword=function resetPassword(event){event.preventDefault();if(validateEmail()){dispatch(setLoadingPageTrue());requestUtil(\"\".concat(config.baseUrl,\"/Candidates/forgotpassword?email=\").concat(email),'POST',{}).then(function(response){setSuccessMessage(response.message);dispatch(setLoadingPageFalse());}).catch(function(error){dispatch(setLoadingPageFalse());setError(true);setErrorMessage(error.message);});}};var updateFormValue=function updateFormValue(target){setEmail(target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-login100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wrap-login100 p-6\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"login100-form validate-form\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"login100-form-title pb-5\",children:/*#__PURE__*/_jsx(\"a\",{href:\"\",children:/*#__PURE__*/_jsx(\"img\",{src:\"assets/images/brand/logo-3.png\",className:\"header-brand-img\",alt:\"\"})})}),/*#__PURE__*/_jsx(\"span\",{className:\"login100-form-title pb-5\",children:\"Forgot Password\"}),error&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"toast wrap-input100 align-items-center text-white bg-danger border-0 show\",role:\"alert\",\"aria-live\":\"assertive\",\"aria-atomic\":\"true\",\"data-bs-autohide\":\"false\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex\",children:/*#__PURE__*/_jsx(\"div\",{className:\"toast-body\",children:errorMessage||'Reset password failed! Please try again.'})})}),/*#__PURE__*/_jsx(\"div\",{children:\"\\xA0\"})]}),successMessage&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"toast wrap-input100 align-items-center text-white bg-success border-0 show\",role:\"alert\",\"aria-live\":\"assertive\",\"aria-atomic\":\"true\",\"data-bs-autohide\":\"false\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex\",children:/*#__PURE__*/_jsx(\"div\",{className:\"toast-body\",children:successMessage})})}),/*#__PURE__*/_jsx(\"div\",{children:\"\\xA0\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Enter the email address registered on your account\"}),/*#__PURE__*/_jsx(TextField,{placeholder:\"Email\",name:'email',type:\"email\",iconClass:\"zmdi zmdi-email\",errors:formErrors['email'],updateValue:updateFormValue}),/*#__PURE__*/_jsx(\"div\",{className:\"submit\",children:/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-primary d-grid\",href:\"#\",onClick:resetPassword,children:\"Send Password Reset Link\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-dark mb-0\",children:[\"Got it?\",/*#__PURE__*/_jsx(\"a\",{className:\"text-primary ms-1\",href:\"#\",onClick:gotoLogin,children:\"Login\"})]})})]})})})})]});});","map":{"version":3,"sources":["D:/projects/Overture/DevOTWebUI/src/components/ForgotPassword/index.js"],"names":["useNavigate","React","useState","useDispatch","useConfiguration","useValidation","TextField","requestUtil","Loader","setLoadingPageTrue","setLoadingPageFalse","navigate","dispatch","email","setEmail","formErrors","setFormErrors","error","setError","successMessage","setSuccessMessage","errorMessage","setErrorMessage","validate","config","validateEmail","result","data","valid","errors","gotoLogin","e","preventDefault","resetPassword","event","baseUrl","then","response","message","catch","updateFormValue","target","value"],"mappings":"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","sourcesContent":["import {useNavigate} from \"react-router-dom\";\nimport React, {useState} from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport useConfiguration from \"../../hooks/useConfiguration\";\nimport useValidation from \"../../hooks/useValidation\";\nimport TextField from \"../common/TextField\";\nimport requestUtil from '../../helpers/requestUtil';\nimport Loader from \"../common/Loader\";\nimport {setLoadingPageTrue, setLoadingPageFalse} from \"../common/Loader/action\";\n\nexport default () => {\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n    const [email, setEmail] = useState(null);\n    const [formErrors, setFormErrors] = useState({});\n    const [error, setError] = useState(false);\n    const [successMessage, setSuccessMessage] = useState(null);\n    const [errorMessage, setErrorMessage] = useState(null);\n    const validate = useValidation();\n    const config = useConfiguration();\n    const validateEmail = () => {\n        const result = validate(\"forgotPassword\", [{'name': 'email', data: email}]);\n        if (result.valid) {\n            setFormErrors({});\n        } else {\n            setFormErrors(result.errors);\n        }\n        return result.valid;\n    }\n    const gotoLogin = (e) => {\n        e.preventDefault();\n        navigate(\"/\");\n    }\n    const resetPassword = (event) => {\n        event.preventDefault();\n        if (validateEmail()) {\n            dispatch(setLoadingPageTrue());\n            requestUtil(`${config.baseUrl}/Candidates/forgotpassword?email=${email}`, 'POST', {})\n                .then(response => {\n                    setSuccessMessage(response.message);\n                    dispatch(setLoadingPageFalse());\n                }).catch(error => {\n                dispatch(setLoadingPageFalse());\n                setError(true)\n                setErrorMessage(error.message);\n            });\n        }\n    }\n    const updateFormValue = (target) => {\n        setEmail(target.value);\n    }\n    return (<div className=\"page\">\n        <Loader/>\n        <div className=\"\">\n            <div className=\"container-login100\">\n                <div className=\"wrap-login100 p-6\">\n                    <form className=\"login100-form validate-form\">\n                            <span className=\"login100-form-title pb-5\">\n                                <a href=\"\"><img src=\"assets/images/brand/logo-3.png\" className=\"header-brand-img\"\n                                                alt=\"\"/></a>\n                            </span>\n                        <span className=\"login100-form-title pb-5\">\n                                Forgot Password\n                        </span>\n                        {\n                            error &&\n                            <>\n                                <div\n                                    className=\"toast wrap-input100 align-items-center text-white bg-danger border-0 show\"\n                                    role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-autohide=\"false\">\n                                    <div className=\"d-flex\">\n                                        <div className=\"toast-body\">\n                                            {errorMessage || 'Reset password failed! Please try again.'}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div>&nbsp;</div>\n                            </>\n                        }\n                        {\n                            successMessage &&\n                            <>\n                                <div\n                                    className=\"toast wrap-input100 align-items-center text-white bg-success border-0 show\"\n                                    role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-autohide=\"false\">\n                                    <div className=\"d-flex\">\n                                        <div className=\"toast-body\">\n                                            {successMessage}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div>&nbsp;</div>\n                            </>\n                        }\n                        <p className=\"text-muted\">Enter the email address registered on your account</p>\n                        <TextField placeholder={\"Email\"} name={'email'} type={\"email\"} iconClass={\"zmdi zmdi-email\"}\n                                   errors={formErrors['email']} updateValue={updateFormValue}/>\n                        <div className=\"submit\">\n                            <a className=\"btn btn-primary d-grid\" href=\"#\" onClick={resetPassword}>Send Password Reset\n                                Link</a>\n                        </div>\n                        <div className=\"text-center mt-4\">\n                            <p className=\"text-dark mb-0\">Got it?<a className=\"text-primary ms-1\" href=\"#\"\n                                                                    onClick={gotoLogin}>Login</a>\n                            </p>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>)\n}\n"]},"metadata":{},"sourceType":"module"}