{"ast":null,"code":"import _slicedToArray from\"D:/projects/Overture/DevOTWebUI/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import useConfiguration from'../../hooks/useConfiguration';import useSessionStorage from\"../../hooks/useSessionStorage\";import Header from\"../common/Header\";import Sidebar from\"../common/Sidebar\";import Footer from\"../common/Footer\";import PageHeader from\"./pageHeader\";import'./profilebuilder.css';import PersonalInfo from\"./PersonalInfo\";import{getCurrentPersonalInfo,savePersonalInfo,resetErrorStatus}from'./PersonalInfo/action';import{getCurrentResumeBuilder,saveResumeBuilder}from\"./ResumeBuilder/action\";import{getMasterData,getPreference,savePreference}from\"./Preference/action\";import'./index.css';import Loader from\"../common/Loader\";import{profileBuilderSelector}from'./selector';import{personalInfoSelector}from\"./PersonalInfo/selector\";import{previousTab,gotoTab}from\"./action\";import ResumeBuilder from\"./ResumeBuilder\";import Preference from\"./Preference\";import Summary from\"../Summary\";import SaveSuccess from\"../SaveSuccess\";import useValidation from\"../../hooks/useValidation\";import{validateResume}from'./ResumeBuilder/customResumeValidation';import{resumeBuilderSelector}from\"./ResumeBuilder/selector\";import{preferenceSelector}from\"./Preference/selector\";import{loginSelector}from\"../Login/selector\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default(function(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),registrationErrors=_useState2[0],setRegistrationErrors=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),emergencyContactErrors=_useState4[0],setEmergencyContactErrors=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),referencesErrors=_useState6[0],setReferencesErrors=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),workHistoryErrors=_useState8[0],setWorkHistoryErrors=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),educationErrors=_useState10[0],setEducationErrors=_useState10[1];var _useState11=useState({}),_useState12=_slicedToArray(_useState11,2),resumeBuilderError=_useState12[0],setResumeBuilderError=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),preferenceErrors=_useState14[0],setPreferenceErrors=_useState14[1];var dispatch=useDispatch();var config=useConfiguration();var storage=useSessionStorage();var validate=useValidation();var navigate=useNavigate();var _useSelector=useSelector(profileBuilderSelector),activeTab=_useSelector.activeTab,error=_useSelector.error,errorMessage=_useSelector.errorMessage;var _useSelector2=useSelector(personalInfoSelector),data=_useSelector2.data;var resumeForm=useSelector(resumeBuilderSelector);var preferenceForm=useSelector(preferenceSelector);var _useSelector3=useSelector(loginSelector),profileFlag=_useSelector3.profileFlag;var login=storage.getItem(\"login\");var successStage=activeTab==='success';useEffect(function(){document.title=\"Profile Builder\";},[]);useEffect(function(){if(config.baseUrl){if(!login){navigate(\"/\");}}},[config]);var tabStyle=function tabStyle(tabName){return activeTab===tabName?'nav-item active':'nav-item';};var validatePersonalInfo=function validatePersonalInfo(){var keys=Object.keys(data);var registrationResult=validate(\"personalInfo\",keys.map(function(key){return{name:key,data:data[key]};}));if(registrationResult.valid){setRegistrationErrors({});}else{setRegistrationErrors(registrationResult.errors);}return registrationResult.valid;};var validateEmergencyContact=function validateEmergencyContact(){var keys=Object.keys(data.emergencyContact);var emergencyResult=validate(\"emergencyContact\",keys.map(function(key){return{name:key,data:data.emergencyContact[key]};}));if(emergencyResult.valid){setEmergencyContactErrors({});}else{setEmergencyContactErrors(emergencyResult.errors);}return emergencyResult.valid;};var validateReferences=function validateReferences(){var validationResults=data.references.map(function(ref,index){var keys=Object.keys(ref);var anyFilled=keys.some(function(key){return ref[key];});//if(index === 0 || anyFilled) {\nif(anyFilled){return validate(\"references\",keys.map(function(key){return{name:key,data:ref[key]};}));}else{return{valid:true};}});var valid=validationResults.every(function(result){return result.valid;});if(valid){setReferencesErrors([]);}else{setReferencesErrors(validationResults.map(function(result){return result.errors;}));}return valid;};var validatePreferences=function validatePreferences(){var preferenceKeys=Object.keys(preferenceForm);var validationResult=validate(\"preferences\",preferenceKeys.map(function(key){return{name:key,data:preferenceForm[key]};}));if(validationResult.valid){setPreferenceErrors({});}else{setPreferenceErrors(validationResult.errors);}return validationResult.valid;};var validateNoResume=function validateNoResume(){if(resumeForm.data.noResume){var workHistoryValidationResult=resumeForm.workHistory.map(function(ref,index){var keys=Object.keys(ref);var anyFilled=keys.some(function(key){return ref[key];});if(index===0||anyFilled){return validate(\"workHistory\",keys.map(function(key){return{name:key,data:ref[key]};}));}else{return{valid:true};}});var educationValidationResult=resumeForm.educationList.map(function(ref,index){var keys=Object.keys(ref);var anyFilled=keys.some(function(key){return ref[key];});if(index===0||anyFilled){return validate(\"education\",keys.map(function(key){return{name:key,data:ref[key]};}));}else{return{valid:true};}});var valid=workHistoryValidationResult.every(function(result){return result.valid;})&&educationValidationResult.every(function(result){return result.valid;});if(valid){setEducationErrors([]);setWorkHistoryErrors([]);}else{setEducationErrors(educationValidationResult.map(function(result){return result.errors;}));setWorkHistoryErrors(workHistoryValidationResult.map(function(result){return result.errors;}));}return valid;}else{return true;}};var saveContinue=function saveContinue(currentTab){var gotoNextTab=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;window.scrollTo(0,0);dispatch(resetErrorStatus());var valid=true;if(currentTab==='personalInfo'){if(validatePersonalInfo()&&validateEmergencyContact()&&validateReferences()){dispatch(savePersonalInfo({url:\"\".concat(config.baseUrl,\"/Candidates/savepersonalinfo/\"),candidateId:login.candidateId,userId:login.appUserId,gotoNextTab:gotoNextTab}));}else{valid=false;}}else if(currentTab==='resumeBuilder'){var resumeFormValid=validateResume(resumeForm);if(validateNoResume()&&resumeFormValid.isValid){dispatch(saveResumeBuilder({url:\"\".concat(config.baseUrl),candidateId:login.candidateId,userId:login.appUserId,gotoNextTab:gotoNextTab}));setResumeBuilderError({});}else{setResumeBuilderError(resumeFormValid.errors);valid=false;}}else if(currentTab==='preference'){if(validatePreferences()){dispatch(savePreference({url:\"\".concat(config.baseUrl),candidateId:login.candidateId,userId:login.appUserId,gotoNextTab:gotoNextTab}));}else{valid=false;}}return valid;};var cancelSummaryEdit=function cancelSummaryEdit(currentTab){if(currentTab==='personalInfo'){dispatch(getCurrentPersonalInfo({url:\"\".concat(config.baseUrl,\"/Candidates/getpersonalinfo\"),userId:login.candidateId}));}else if(currentTab==='resumeBuilder'){dispatch(getCurrentResumeBuilder({url:\"\".concat(config.baseUrl,\"/Candidates/getjobinfo\"),userId:login.candidateId}));}else if(currentTab==='preference'){dispatch(getPreference(config.baseUrl,login.candidateId));}};var gotoPrevious=function gotoPrevious(){window.scrollTo(0,0);dispatch(previousTab());};var navigateToTab=function navigateToTab(tabName){window.scrollTo(0,0);dispatch(gotoTab(tabName));};var previousDisabled=activeTab==='personalInfo';return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-main\",children:[/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content app-content mt-0 main-background\",children:/*#__PURE__*/_jsx(\"div\",{className:\"side-app\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-container container-fluid\",children:[/*#__PURE__*/_jsx(PageHeader,{previous:\"Dashboard\",current:\"Profile Builder\"}),activeTab!=='summary'&&/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[!successStage&&/*#__PURE__*/_jsx(\"div\",{className:\"card-header border-bottom-0\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Profile Builder\"})}),error&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"toast wrap-input100 align-items-center text-white bg-danger border-0 show\",role:\"alert\",\"aria-live\":\"assertive\",\"aria-atomic\":\"true\",\"data-bs-autohide\":\"false\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex col-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"toast-body\",children:errorMessage||'Save error! Please try again.'})})}),/*#__PURE__*/_jsx(\"div\",{children:\"\\xA0\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"smartwizard-3\",className:\"sw-main sw-theme-dots\",children:[!successStage&&/*#__PURE__*/_jsxs(\"ul\",{className:\"nav nav-tabs step-anchor\",children:[/*#__PURE__*/_jsx(\"li\",{className:tabStyle('personalInfo'),children:/*#__PURE__*/_jsx(\"a\",{className:'nav-link',href:\"#\",onFocus:function onFocus(e){return e.preventDefault();},onClick:function onClick(event){event.preventDefault();profileFlag&&profileFlag.isPersonalInfoTabCompleted&&navigateToTab('personalInfo');},children:\"Personal Info\"})}),/*#__PURE__*/_jsx(\"li\",{className:tabStyle('resumeBuilder'),children:/*#__PURE__*/_jsx(\"a\",{className:'nav-link',href:\"#\",onFocus:function onFocus(e){return e.preventDefault();},onClick:function onClick(event){event.preventDefault();profileFlag&&profileFlag.isJobInfoCompleted&&navigateToTab('resumeBuilder');},children:\"Resume Builder\"})}),/*#__PURE__*/_jsx(\"li\",{className:tabStyle('preference'),children:/*#__PURE__*/_jsx(\"a\",{className:'nav-link',href:\"#\",onFocus:function onFocus(e){return e.preventDefault();},onClick:function onClick(event){event.preventDefault();profileFlag&&profileFlag.isJobInfoCompleted&&navigateToTab('preference');},children:\"Preferences\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content sw-container\",children:[successStage&&/*#__PURE__*/_jsx(SaveSuccess,{}),activeTab==='personalInfo'&&/*#__PURE__*/_jsx(\"div\",{id:\"step-personalInfo\",children:/*#__PURE__*/_jsx(PersonalInfo,{registrationErrors:registrationErrors,emergencyContactErrors:emergencyContactErrors,referencesErrors:referencesErrors})}),activeTab==='resumeBuilder'&&/*#__PURE__*/_jsx(\"div\",{id:\"step-resumeBuilder\",children:/*#__PURE__*/_jsx(ResumeBuilder,{resumeBuilderError:resumeBuilderError,educationErrors:educationErrors,workHistoryErrors:workHistoryErrors})}),activeTab==='preference'&&/*#__PURE__*/_jsx(\"div\",{id:\"step-preference\",children:/*#__PURE__*/_jsx(Preference,{preferenceErrors:preferenceErrors})}),!successStage&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn-toolbar sw-toolbar sw-toolbar-bottom justify-content-end\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"btn-group me-2 sw-btn-group\",role:\"group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary sw-btn-next\",type:\"button\",onClick:function onClick(){return saveContinue(activeTab);},children:\"Save and Continue\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-group mr-2 sw-btn-group-extra\",role:\"group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",children:\"Cancel\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-toolbar sw-toolbar sw-toolbar-bottom justify-content-left\",children:/*#__PURE__*/_jsx(\"div\",{className:\"btn-group me-2 sw-btn-group prev-margin\",role:\"group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger sw-btn-prev \".concat(previousDisabled?'disabled':''),type:\"button\",onClick:gotoPrevious,children:\"Previous\"})})})]})]})]})})]})})}),activeTab==='summary'&&/*#__PURE__*/_jsx(Summary,{registrationErrors:registrationErrors,emergencyContactErrors:emergencyContactErrors,referencesErrors:referencesErrors,resumeBuilderError:resumeBuilderError,educationErrors:educationErrors,workHistoryErrors:workHistoryErrors,preferenceErrors:preferenceErrors,cancel:cancelSummaryEdit,saveContinue:saveContinue})]})})})]}),/*#__PURE__*/_jsx(Footer,{})]});});","map":{"version":3,"sources":["D:/projects/Overture/DevOTWebUI/src/components/ProfileBuilder/index.js"],"names":["React","useEffect","useState","useDispatch","useSelector","useNavigate","useConfiguration","useSessionStorage","Header","Sidebar","Footer","PageHeader","PersonalInfo","getCurrentPersonalInfo","savePersonalInfo","resetErrorStatus","getCurrentResumeBuilder","saveResumeBuilder","getMasterData","getPreference","savePreference","Loader","profileBuilderSelector","personalInfoSelector","previousTab","gotoTab","ResumeBuilder","Preference","Summary","SaveSuccess","useValidation","validateResume","resumeBuilderSelector","preferenceSelector","loginSelector","registrationErrors","setRegistrationErrors","emergencyContactErrors","setEmergencyContactErrors","referencesErrors","setReferencesErrors","workHistoryErrors","setWorkHistoryErrors","educationErrors","setEducationErrors","resumeBuilderError","setResumeBuilderError","preferenceErrors","setPreferenceErrors","dispatch","config","storage","validate","navigate","activeTab","error","errorMessage","data","resumeForm","preferenceForm","profileFlag","login","getItem","successStage","document","title","baseUrl","tabStyle","tabName","validatePersonalInfo","keys","Object","registrationResult","map","key","name","valid","errors","validateEmergencyContact","emergencyContact","emergencyResult","validateReferences","validationResults","references","ref","index","anyFilled","some","every","result","validatePreferences","preferenceKeys","validationResult","validateNoResume","noResume","workHistoryValidationResult","workHistory","educationValidationResult","educationList","saveContinue","currentTab","gotoNextTab","window","scrollTo","url","candidateId","userId","appUserId","resumeFormValid","isValid","cancelSummaryEdit","gotoPrevious","navigateToTab","previousDisabled","e","preventDefault","event","isPersonalInfoTabCompleted","isJobInfoCompleted"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {useNavigate} from \"react-router-dom\";\nimport useConfiguration from '../../hooks/useConfiguration';\nimport useSessionStorage from \"../../hooks/useSessionStorage\";\nimport Header from \"../common/Header\";\nimport Sidebar from \"../common/Sidebar\";\nimport Footer from \"../common/Footer\";\nimport PageHeader from \"./pageHeader\";\nimport './profilebuilder.css';\nimport PersonalInfo from \"./PersonalInfo\";\nimport {getCurrentPersonalInfo, savePersonalInfo, resetErrorStatus} from './PersonalInfo/action';\nimport {getCurrentResumeBuilder, saveResumeBuilder} from \"./ResumeBuilder/action\";\nimport {getMasterData, getPreference, savePreference} from \"./Preference/action\";\nimport './index.css';\nimport Loader from \"../common/Loader\";\nimport {profileBuilderSelector} from './selector';\nimport {personalInfoSelector} from \"./PersonalInfo/selector\";\nimport {previousTab, gotoTab} from \"./action\";\nimport ResumeBuilder from \"./ResumeBuilder\";\nimport Preference from \"./Preference\";\nimport Summary from \"../Summary\";\nimport SaveSuccess from \"../SaveSuccess\";\nimport useValidation from \"../../hooks/useValidation\";\nimport {validateResume} from './ResumeBuilder/customResumeValidation';\nimport {resumeBuilderSelector} from \"./ResumeBuilder/selector\";\nimport {preferenceSelector} from \"./Preference/selector\";\nimport {loginSelector} from \"../Login/selector\";\n\nexport default () => {\n    const [registrationErrors, setRegistrationErrors] = useState({});\n    const [emergencyContactErrors, setEmergencyContactErrors] = useState({});\n    const [referencesErrors, setReferencesErrors] = useState([]);\n    const [workHistoryErrors, setWorkHistoryErrors] = useState([]);\n    const [educationErrors, setEducationErrors] = useState([]);\n    const [resumeBuilderError, setResumeBuilderError] = useState({});\n    const [preferenceErrors, setPreferenceErrors] = useState({});\n    const dispatch = useDispatch();\n    const config = useConfiguration();\n    const storage = useSessionStorage();\n    const validate = useValidation();\n    const navigate = useNavigate();\n    const {activeTab, error, errorMessage} = useSelector(profileBuilderSelector);\n    const {data} = useSelector(personalInfoSelector);\n    const resumeForm = useSelector(resumeBuilderSelector);\n    const preferenceForm = useSelector(preferenceSelector);\n    const {profileFlag} = useSelector(loginSelector);\n    const login = storage.getItem(\"login\");\n    const successStage = activeTab === 'success';\n    useEffect(() => {\n        document.title = \"Profile Builder\";\n    }, []);\n    useEffect(() => {\n        if (config.baseUrl) {\n            if (!login) {\n                navigate(\"/\");\n            }\n        }\n    }, [config]);\n    const tabStyle = (tabName) => {\n        return activeTab === tabName ? 'nav-item active' : 'nav-item';\n    };\n    const validatePersonalInfo = () => {\n        const keys = Object.keys(data);\n        const registrationResult = validate(\"personalInfo\", keys.map(key => {\n            return {\n                name: key, data: data[key]\n            }\n        }));\n        if (registrationResult.valid) {\n            setRegistrationErrors({});\n        } else {\n            setRegistrationErrors(registrationResult.errors);\n        }\n        return registrationResult.valid;\n    }\n    const validateEmergencyContact = () => {\n        const keys = Object.keys(data.emergencyContact);\n        const emergencyResult = validate(\"emergencyContact\", keys.map(key => {\n            return {\n                name: key, data: data.emergencyContact[key]\n            }\n        }));\n        if (emergencyResult.valid) {\n            setEmergencyContactErrors({});\n        } else {\n            setEmergencyContactErrors(emergencyResult.errors);\n        }\n        return emergencyResult.valid;\n    }\n    const validateReferences = () => {\n        const validationResults = data.references.map((ref, index) => {\n            const keys = Object.keys(ref);\n            const anyFilled = keys.some(key => ref[key]);\n            //if(index === 0 || anyFilled) {\n            if (anyFilled) {\n                return validate(\"references\", keys.map(key => {\n                    return {\n                        name: key, data: ref[key]\n                    }\n                }));\n            } else {\n                return {valid: true};\n            }\n        });\n        const valid = validationResults.every(result => result.valid);\n        if (valid) {\n            setReferencesErrors([]);\n        } else {\n            setReferencesErrors(validationResults.map(result => result.errors));\n        }\n        return valid\n    }\n\n    const validatePreferences = () => {\n        const preferenceKeys = Object.keys(preferenceForm);\n        const validationResult = validate(\"preferences\", preferenceKeys.map(key => {\n            return {\n                name: key, data: preferenceForm[key]\n            }\n        }));\n        if (validationResult.valid) {\n            setPreferenceErrors({});\n        } else {\n            setPreferenceErrors(validationResult.errors);\n        }\n        return validationResult.valid;\n    }\n\n    const validateNoResume = () => {\n        if (resumeForm.data.noResume) {\n            const workHistoryValidationResult = resumeForm.workHistory.map((ref, index) => {\n                const keys = Object.keys(ref);\n                const anyFilled = keys.some(key => ref[key]);\n                if (index === 0 || anyFilled) {\n                    return validate(\"workHistory\", keys.map(key => {\n                        return {\n                            name: key, data: ref[key]\n                        }\n                    }));\n                } else {\n                    return {\n                        valid: true\n                    }\n                }\n            });\n            const educationValidationResult = resumeForm.educationList.map((ref, index) => {\n                const keys = Object.keys(ref);\n                const anyFilled = keys.some(key => ref[key]);\n                if (index === 0 || anyFilled) {\n                    return validate(\"education\", keys.map(key => {\n                        return {\n                            name: key, data: ref[key]\n                        }\n                    }));\n                } else {\n                    return {\n                        valid: true\n                    }\n                }\n            });\n            const valid = workHistoryValidationResult.every(result => result.valid) &&\n                educationValidationResult.every(result => result.valid);\n            if (valid) {\n                setEducationErrors([]);\n                setWorkHistoryErrors([]);\n            } else {\n                setEducationErrors(educationValidationResult.map(result => result.errors));\n                setWorkHistoryErrors(workHistoryValidationResult.map(result => result.errors));\n            }\n            return valid;\n        } else {\n            return true;\n        }\n    }\n    const saveContinue = (currentTab, gotoNextTab = true) => {\n        window.scrollTo(0, 0)\n        dispatch(resetErrorStatus())\n        let valid = true;\n        if (currentTab === 'personalInfo') {\n            if (validatePersonalInfo() && validateEmergencyContact() && validateReferences()) {\n                dispatch(savePersonalInfo({\n                    url: `${config.baseUrl}/Candidates/savepersonalinfo/`,\n                    candidateId: login.candidateId,\n                    userId: login.appUserId,\n                    gotoNextTab\n                }));\n            } else {\n                valid = false;\n            }\n        } else if (currentTab === 'resumeBuilder') {\n            const resumeFormValid = validateResume(resumeForm);\n            if (validateNoResume() && resumeFormValid.isValid) {\n                dispatch(saveResumeBuilder({\n                    url: `${config.baseUrl}`, candidateId: login.candidateId, userId: login.appUserId, gotoNextTab\n                }));\n                setResumeBuilderError({});\n            } else {\n                setResumeBuilderError(resumeFormValid.errors);\n                valid = false;\n            }\n        } else if (currentTab === 'preference') {\n            if (validatePreferences()) {\n                dispatch(savePreference({\n                    url: `${config.baseUrl}`, candidateId: login.candidateId, userId: login.appUserId, gotoNextTab\n                }));\n            } else {\n                valid = false;\n            }\n        }\n        return valid;\n    };\n\n    const cancelSummaryEdit = (currentTab) => {\n        if (currentTab === 'personalInfo') {\n            dispatch(getCurrentPersonalInfo({\n                url: `${config.baseUrl}/Candidates/getpersonalinfo`, userId: login.candidateId\n            }));\n        } else if (currentTab === 'resumeBuilder') {\n            dispatch(getCurrentResumeBuilder({\n                url: `${config.baseUrl}/Candidates/getjobinfo`, userId: login.candidateId\n            }));\n        } else if (currentTab === 'preference') {\n            dispatch(getPreference(config.baseUrl, login.candidateId));\n        }\n    };\n\n    const gotoPrevious = () => {\n        window.scrollTo(0, 0)\n        dispatch(previousTab());\n    };\n\n    const navigateToTab = (tabName) => {\n        window.scrollTo(0, 0)\n        dispatch(gotoTab(tabName));\n    }\n\n    const previousDisabled = activeTab === 'personalInfo';\n    return (\n        <div className=\"page\">\n            <div className=\"page-main\">\n                <Loader/>\n                <Header/>\n                <Sidebar/>\n                <div className={\"main-content app-content mt-0 main-background\"}>\n                    <div className=\"side-app\">\n                        <div className=\"main-container container-fluid\">\n                            <PageHeader previous={\"Dashboard\"} current={\"Profile Builder\"}/>\n                            {\n                                activeTab !== 'summary' &&\n                                <div className=\"row\">\n                                    <div className=\"col-12\">\n                                        <div className=\"card\">\n                                            {\n                                                !successStage &&\n                                                <div className=\"card-header border-bottom-0\">\n                                                    <h3 className=\"card-title\">Profile Builder</h3>\n                                                </div>\n                                            }\n                                            {\n                                                error &&\n                                                <>\n                                                    <div\n                                                        className=\"toast wrap-input100 align-items-center text-white bg-danger border-0 show\"\n                                                        role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\"\n                                                        data-bs-autohide=\"false\">\n                                                        <div className=\"d-flex col-6\">\n                                                            <div className=\"toast-body\">\n                                                                {errorMessage || 'Save error! Please try again.'}\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div>&nbsp;</div>\n                                                </>\n                                            }\n                                            <div className=\"card-body\">\n                                                <div id=\"smartwizard-3\" className={\"sw-main sw-theme-dots\"}>\n                                                    {\n                                                        !successStage && <ul className={\"nav nav-tabs step-anchor\"}>\n                                                            <li className={tabStyle('personalInfo')}><a\n                                                                className={'nav-link'} href=\"#\"\n                                                                onFocus={(e) => e.preventDefault()} onClick={(event) => {\n                                                                event.preventDefault();\n                                                                profileFlag && profileFlag.isPersonalInfoTabCompleted && navigateToTab('personalInfo');\n                                                            }}>Personal Info</a></li>\n                                                            <li className={tabStyle('resumeBuilder')}><a\n                                                                className={'nav-link'} href=\"#\"\n                                                                onFocus={(e) => e.preventDefault()} onClick={event => {\n                                                                event.preventDefault();\n                                                                profileFlag && profileFlag.isJobInfoCompleted && navigateToTab('resumeBuilder');\n                                                            }}>Resume Builder</a></li>\n                                                            <li className={tabStyle('preference')}><a className={'nav-link'}\n                                                                                                      href=\"#\"\n                                                                                                      onFocus={e => e.preventDefault()}\n                                                                                                      onClick={(event) => {\n                                                                                                          event.preventDefault();\n                                                                                                          profileFlag && profileFlag.isJobInfoCompleted && navigateToTab('preference');\n                                                                                                      }}>Preferences</a>\n                                                            </li>\n                                                        </ul>\n                                                    }\n                                                    <div className={\"tab-content sw-container\"}>\n                                                        {\n                                                            successStage && <SaveSuccess/>\n                                                        }\n                                                        {\n                                                            activeTab === 'personalInfo' &&\n                                                            <div id={\"step-personalInfo\"}>\n                                                                <PersonalInfo registrationErrors={registrationErrors}\n                                                                              emergencyContactErrors={emergencyContactErrors}\n                                                                              referencesErrors={referencesErrors}/>\n                                                            </div>\n                                                        }\n                                                        {\n                                                            activeTab === 'resumeBuilder' &&\n                                                            <div id={\"step-resumeBuilder\"}>\n                                                                <ResumeBuilder resumeBuilderError={resumeBuilderError}\n                                                                               educationErrors={educationErrors}\n                                                                               workHistoryErrors={workHistoryErrors}/>\n                                                            </div>\n                                                        }\n                                                        {\n                                                            activeTab === 'preference' &&\n                                                            <div id={\"step-preference\"}>\n                                                                <Preference preferenceErrors={preferenceErrors}/>\n                                                            </div>\n                                                        }\n                                                        {!successStage && <>\n                                                            <div\n                                                                className=\"btn-toolbar sw-toolbar sw-toolbar-bottom justify-content-end\">\n                                                                <div className=\"btn-group me-2 sw-btn-group\"\n                                                                     role=\"group\">\n                                                                    <button className=\"btn btn-primary sw-btn-next\"\n                                                                            type=\"button\"\n                                                                            onClick={() => saveContinue(activeTab)}>Save\n                                                                        and Continue\n                                                                    </button>\n                                                                </div>\n                                                                <div className=\"btn-group mr-2 sw-btn-group-extra\"\n                                                                     role=\"group\">\n                                                                    <button className=\"btn btn-danger\">Cancel</button>\n                                                                </div>\n                                                            </div>\n                                                            <div\n                                                                className=\"btn-toolbar sw-toolbar sw-toolbar-bottom justify-content-left\">\n                                                                <div className=\"btn-group me-2 sw-btn-group prev-margin\"\n                                                                     role=\"group\">\n                                                                    <button\n                                                                        className={`btn btn-danger sw-btn-prev ${previousDisabled ? 'disabled' : ''}`}\n                                                                        type=\"button\" onClick={gotoPrevious}>Previous\n                                                                    </button>\n                                                                </div>\n                                                            </div>\n                                                        </>}\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            }\n                            {\n                                activeTab === 'summary' && <Summary registrationErrors={registrationErrors}\n                                                                    emergencyContactErrors={emergencyContactErrors}\n                                                                    referencesErrors={referencesErrors}\n                                                                    resumeBuilderError={resumeBuilderError}\n                                                                    educationErrors={educationErrors}\n                                                                    workHistoryErrors={workHistoryErrors}\n                                                                    preferenceErrors={preferenceErrors}\n                                                                    cancel={cancelSummaryEdit}\n                                                                    saveContinue={saveContinue}/>\n                            }\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <Footer/>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}