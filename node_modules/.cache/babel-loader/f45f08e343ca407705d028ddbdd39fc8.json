{"ast":null,"code":"import { setPersonalInfo, setCityState, setMasterData, addSpokenLanguagesList, removeSpokenLanguagesList, setEmergencyContactRelationship, setMasterDatas } from './slice';\nimport { setError, resetError } from \"../slice\";\nimport { setLoading } from \"../../common/Loader/slice\";\nimport requestUtil from '../../../helpers/requestUtil';\nimport { nextTab } from \"../action\";\nimport useConfiguration from \"../../../hooks/useConfiguration\";\nexport function updatePersonalInfo(data) {\n  return async dispatch => {\n    dispatch(setPersonalInfo(data));\n  };\n}\nexport function resetErrorStatus() {\n  return async dispatch => {\n    dispatch(resetError());\n  };\n}\nconst config = useConfiguration();\nexport function getCurrentPersonalInfo(_ref) {\n  let {\n    url,\n    userId\n  } = _ref;\n  return async dispatch => {\n    dispatch(setLoading(true));\n\n    try {\n      const urlEmergency = config.baseUrl;\n      const response = await requestUtil(`${url}/${userId}`, 'GET');\n      const emergencyContactRelationship = await requestUtil(`${urlEmergency}/Dropdown/GetEmergencyContactRelationships`, 'GET');\n      dispatch(setPersonalInfo(response));\n      dispatch(setMasterDatas({\n        emergencyContactRelationship\n      }));\n    } catch (error) {\n      dispatch(setError(error.message));\n    }\n\n    dispatch(setLoading(false));\n  };\n}\nexport function savePersonalInfo(_ref2) {\n  let {\n    url,\n    candidateId,\n    userId,\n    gotoNextTab = true\n  } = _ref2;\n  return async (dispatch, getState) => {\n    dispatch(setLoading(true));\n    const {\n      data\n    } = getState().personalInfo;\n\n    try {\n      await requestUtil(`${url}`, 'POST', {\n        appUserId: userId,\n        candidateId,\n        ...data,\n        spokenLanguagesList: data.spokenLanguagesList.map(item => item.id)\n      });\n\n      if (gotoNextTab) {\n        dispatch(nextTab());\n      }\n    } catch (error) {\n      dispatch(setError(error.message));\n    }\n\n    dispatch(setLoading(false));\n  };\n}\nexport function getCityState(url) {\n  return async dispatch => {\n    try {\n      const response = await requestUtil(url, 'GET');\n      dispatch(setCityState(response));\n    } catch (error) {\n      dispatch(setError(error.message));\n    }\n  };\n}\nexport function getSpokenLanguages(url) {\n  return async dispatch => {\n    dispatch(setLoading(true));\n\n    try {\n      const response = await requestUtil(url, 'GET');\n      dispatch(setMasterData({\n        languages: response\n      }));\n    } catch (error) {\n      dispatch(setError(error.message));\n    }\n\n    dispatch(setLoading(false));\n  };\n}\nexport function updateLanguageList(lang, action) {\n  return dispatch => {\n    switch (action) {\n      case 'add':\n        dispatch(addSpokenLanguagesList(lang));\n        break;\n\n      case 'remove':\n        dispatch(removeSpokenLanguagesList(lang));\n        break;\n\n      default:\n        break;\n    }\n  };\n}\nexport function getMasterData(baseUrl) {\n  return async dispatch => {\n    dispatch(setLoading(true));\n\n    try {\n      const emergencyContactRelationship = await requestUtil(`${baseUrl}/Dropdown/GetEmergencyContactRelationships`, 'GET');\n      let keyIndex = 0;\n      dispatch(setLoading(false));\n      dispatch(setMasterDatas({\n        emergencyContactRelationship\n      }));\n    } catch (error) {\n      dispatch(setLoading(false));\n      dispatch(setError(error.message));\n    }\n  };\n}\nexport function updateemergencyContactRelationship(value) {\n  return dispatch => {\n    dispatch(setEmergencyContactRelationship(value));\n  };\n}","map":{"version":3,"sources":["D:/projects/Overture/DevOTWebUI/src/components/ProfileBuilder/PersonalInfo/action.js"],"names":["setPersonalInfo","setCityState","setMasterData","addSpokenLanguagesList","removeSpokenLanguagesList","setEmergencyContactRelationship","setMasterDatas","setError","resetError","setLoading","requestUtil","nextTab","useConfiguration","updatePersonalInfo","data","dispatch","resetErrorStatus","config","getCurrentPersonalInfo","url","userId","urlEmergency","baseUrl","response","emergencyContactRelationship","error","message","savePersonalInfo","candidateId","gotoNextTab","getState","personalInfo","appUserId","spokenLanguagesList","map","item","id","getCityState","getSpokenLanguages","languages","updateLanguageList","lang","action","getMasterData","keyIndex","updateemergencyContactRelationship","value"],"mappings":"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","sourcesContent":["import { setPersonalInfo, setCityState, setMasterData, \n  addSpokenLanguagesList, removeSpokenLanguagesList ,\n  setEmergencyContactRelationship,\n  setMasterDatas,} from './slice';\nimport { setError, resetError } from \"../slice\";\nimport { setLoading } from \"../../common/Loader/slice\";\nimport requestUtil from '../../../helpers/requestUtil';\nimport { nextTab } from \"../action\";\nimport useConfiguration from \"../../../hooks/useConfiguration\";\n\nexport function updatePersonalInfo(data) {\n  return async dispatch => {\n    dispatch(setPersonalInfo(data));\n  };\n}\n\nexport function resetErrorStatus() {\n  return async dispatch => {\n    dispatch(resetError());\n  };\n}\n\nconst config = useConfiguration();\nexport function getCurrentPersonalInfo({url, userId}) {\n\n  return async dispatch => {\n    dispatch(setLoading(true));\n    try {      \n\n      const urlEmergency = config.baseUrl;\n\n      const response = await requestUtil(`${url}/${userId}`, 'GET');\n      \n      const emergencyContactRelationship = await requestUtil(`${urlEmergency}/Dropdown/GetEmergencyContactRelationships`, 'GET');\n\n      dispatch(setPersonalInfo(response));\n      dispatch(setMasterDatas({\n        \n        emergencyContactRelationship\n      }));\n    } catch (error) {\n      dispatch(setError(error.message))\n    }\n    dispatch(setLoading(false));\n  };\n}\n\nexport function savePersonalInfo({url, candidateId, userId, gotoNextTab=true}) {\n  return async (dispatch, getState) => {\n    dispatch(setLoading(true));\n    const { data } = getState().personalInfo;\n    try {\n      await requestUtil(`${url}`, 'POST', {appUserId: userId, candidateId,\n        ...data, spokenLanguagesList: data.spokenLanguagesList.map(item => item.id)});\n      if(gotoNextTab) {\n        dispatch(nextTab());\n      }\n    } catch (error) {\n      dispatch(setError(error.message));\n    }\n    dispatch(setLoading(false));\n  };\n}\n\nexport function getCityState(url) {\n  return async dispatch => {\n    try {\n      const response = await requestUtil(url, 'GET');\n      dispatch(setCityState(response));\n    } catch (error) {\n      dispatch(setError(error.message))\n    }\n  };\n}\n\nexport function getSpokenLanguages(url) {\n  return async dispatch => {\n    dispatch(setLoading(true));\n    try {\n      const response = await requestUtil(url, 'GET');\n      dispatch(setMasterData({languages: response} ));\n    } catch (error) {\n      dispatch(setError(error.message))\n    }\n    dispatch(setLoading(false));\n  };\n}\n\nexport function updateLanguageList(lang, action) {\n  return (dispatch) => {\n    switch (action) {\n      case 'add':\n        dispatch(addSpokenLanguagesList(lang));\n        break;\n      case 'remove':\n        dispatch(removeSpokenLanguagesList(lang));\n        break;\n      default:\n        break;\n    }\n  };\n  \n}\n\nexport function getMasterData(baseUrl) {\n  return async (dispatch) => {\n    dispatch(setLoading(true));\n    try {\n     \n      const emergencyContactRelationship = await requestUtil(`${baseUrl}/Dropdown/GetEmergencyContactRelationships`, 'GET');\n      \n      let keyIndex = 0;\n      \n\n      dispatch(setLoading(false));\n      dispatch(setMasterDatas({\n        \n        emergencyContactRelationship\n      }));\n    } catch (error) {\n      dispatch(setLoading(false));\n      dispatch(setError(error.message));\n    }\n  };\n}\n\nexport function updateemergencyContactRelationship(value) {\n  return (dispatch) => {\n    dispatch(setEmergencyContactRelationship(value));\n  };\n}\n\n"]},"metadata":{},"sourceType":"module"}