{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\Overture\\\\DevOTWebUI_ReactTeam\\\\src\\\\components\\\\Account\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport Loader from \"../common/Loader\";\nimport Header from \"../common/Header\";\nimport Sidebar from \"../common/Sidebar\";\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { logOut } from \"../Login/action\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport useConfiguration from \"../../hooks/useConfiguration\";\nimport useSessionStorage from \"../../hooks/useSessionStorage\";\nimport EditEmail from \"./editEmail\";\nimport useValidation from \"../../hooks/useValidation\";\nimport './account.css';\nimport requestUtil from \"../../helpers/requestUtil\";\nimport { setLoadingPageFalse, setLoadingPageTrue } from \"../common/Loader/action\";\nimport Error from \"../common/Message/error\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default _s(() => {\n  _s();\n\n  const [changeEmail, setChangeEmail] = useState(false);\n  const [newEmail, setNewEmail] = useState('');\n  const [formErrors, setFormErrors] = useState({});\n  const [registrationErrors, setRegistrationErrors] = useState({});\n  const [message, setMessage] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const config = useConfiguration();\n  const storage = useSessionStorage();\n  const dispatch = useDispatch();\n  const validate = useValidation();\n  const login = storage.getItem(\"login\");\n  const {\n    data\n  } = useSelector(personalInfoSelector);\n  const navigate = useNavigate();\n\n  const loadPersonalInfo = () => dispatch(getCurrentPersonalInfo({\n    url: `${config.baseUrl}/Candidates/getpersonalinfo`,\n    userId: login.candidateId\n  }));\n\n  useEffect(() => {\n    document.title = \"Overture Account\";\n\n    if (config.baseUrl && !data.candidateId) {\n      dispatch(loadMasterData(`${config.baseUrl}`)).then(() => {\n        loadPersonalInfo();\n      });\n    }\n  }, [config]);\n\n  const deactivateAccount = event => {\n    event.preventDefault();\n    dispatch(setLoadingPageTrue());\n    requestUtil(`${config.baseUrl}/Candidates/deactivate/${login.candidateId}`, 'POST').then(response => {\n      dispatch(logOut()).then(() => {\n        dispatch(setLoadingPageFalse());\n        navigate(\"/\");\n        window.location.reload();\n      });\n    }).catch(error => {\n      dispatch(setLoadingPageFalse());\n      setErrorMessage(error.message);\n    });\n  };\n\n  const deleteAccount = event => {\n    event.preventDefault();\n    dispatch(setLoadingPageTrue());\n    requestUtil(`${config.baseUrl}/Candidates/deleteaccount/${login.candidateId}`, 'POST').then(response => {\n      dispatch(logOut()).then(() => {\n        dispatch(setLoadingPageFalse());\n        navigate(\"/\");\n        window.location.reload();\n      });\n    }).catch(error => {\n      dispatch(setLoadingPageFalse());\n      setErrorMessage(error.message);\n    });\n  };\n\n  const editEmail = event => {\n    event.preventDefault();\n    setChangeEmail(!changeEmail);\n    setNewEmail('');\n    setErrorMessage('');\n    setMessage('');\n  };\n\n  const updateEmail = target => {\n    setNewEmail(target.value);\n  };\n\n  const validateEmail = () => {\n    const result = validate(\"updateEmail\", [{\n      'name': 'email',\n      data: newEmail\n    }]);\n\n    if (result.valid) {\n      setFormErrors({});\n    } else {\n      setFormErrors(result.errors);\n    }\n\n    if (newEmail === data.email) {\n      setFormErrors({\n        \"email\": ['New email should not be same as old email']\n      });\n      return false;\n    }\n\n    return result.valid;\n  };\n\n  const saveEmail = event => {\n    event.preventDefault();\n\n    if (validateEmail()) {\n      dispatch(setLoadingPageTrue());\n      requestUtil(`${config.baseUrl}/Candidates/updateemailid`, \"POST\", {\n        candidateId: login.candidateId,\n        oldEmailId: login.email,\n        newEmailId: newEmail\n      }).then(response => {\n        setMessage(response.message);\n        requestUtil(`${config.baseUrl}/Candidates/sendmail-for-changeemailid`, \"POST\", {\n          candidateId: login.candidateId,\n          oldEmailId: login.email,\n          newEmailId: newEmail\n        }).then(response => {\n          dispatch(getCurrentPersonalInfo({\n            url: `${config.baseUrl}/Candidates/getpersonalinfo`,\n            userId: login.candidateId\n          })).then(() => {\n            dispatch(setLoadingPageFalse());\n          });\n        }).catch(error => {\n          setErrorMessage(error.message || \"Failed to send email\");\n          dispatch(setLoadingPageFalse());\n        });\n      }).catch(error => {\n        setErrorMessage(error.message || \"Failed to update email\");\n        dispatch(setLoadingPageFalse());\n      });\n    }\n  };\n\n  const validatePersonalInfo = () => {\n    const keys = Object.keys(data);\n    const registrationResult = validate(\"personalInfo\", keys.map(key => {\n      return {\n        name: key,\n        data: data[key]\n      };\n    }));\n\n    if (registrationResult.valid) {\n      setRegistrationErrors({});\n    } else {\n      setRegistrationErrors(registrationResult.errors);\n    }\n\n    return registrationResult.valid;\n  };\n\n  const savePersonalInfo = () => {\n    if (validatePersonalInfo()) {\n      dispatch(setLoadingPageTrue());\n      requestUtil(`${config.baseUrl}/Candidates/savemyaccountinfo`, \"POST\", {\n        candidateId: login.candidateId,\n        ...data\n      }).then(response => {\n        setMessage(response.message);\n        setLoadingPageFalse();\n        loadPersonalInfo();\n      }).catch(error => {\n        setErrorMessage(error.message || \"Failed to update personal info\");\n        dispatch(setLoadingPageFalse());\n      });\n    }\n  };\n\n  const cancelEdit = () => {\n    loadPersonalInfo();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-main\",\n      children: [/*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-content app-content mt-0 main-background\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"side-app\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main-container container-fluid\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [errorMessage && !changeEmail ? /*#__PURE__*/_jsxDEV(Error, {\n                errorMessage: errorMessage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 37\n              }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-xl-12\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card\",\n                  children: [changeEmail, /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-xl-8\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"card\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"card-header\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"card-title\",\n                            children: \"Deactivate Account\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 187,\n                            columnNumber: 53\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 186,\n                          columnNumber: 49\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"card-body\",\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            children: \"When you de-activate you can come back anytime to re-activate\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 190,\n                            columnNumber: 53\n                          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"custom-control custom-checkbox mb-0\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 191,\n                            columnNumber: 53\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 189,\n                          columnNumber: 49\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"card-footer text-end\",\n                          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                            href: \"#\",\n                            onClick: deactivateAccount,\n                            className: \"btn btn-primary my-1\",\n                            children: \"Deactivate\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 195,\n                            columnNumber: 53\n                          }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n                            href: \"javascript:void(0)\",\n                            className: \"btn btn-danger my-1\",\n                            children: \"Cancel\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 197,\n                            columnNumber: 53\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 194,\n                          columnNumber: 49\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 185,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-xl-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"card\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"card-header\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"card-title\",\n                            children: \"Edit Contact\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 204,\n                            columnNumber: 53\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 203,\n                          columnNumber: 49\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"card-body\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-center chat-image mb-5\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"avatar avatar-xxl chat-profile mb-3 brround\",\n                              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                                className: \"\",\n                                href: \"#\",\n                                onClick: event => {\n                                  event.preventDefault();\n                                  navigate(\"/profile\");\n                                },\n                                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                                  alt: \"avatar\",\n                                  src: \"/assets/images/users/7.jpg\",\n                                  className: \"brround\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 213,\n                                  columnNumber: 65\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 209,\n                                columnNumber: 61\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 208,\n                              columnNumber: 57\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"main-chat-msg-name\",\n                              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                                href: \"profile.html\",\n                                children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                                  className: \"mb-1 text-dark fw-semibold\",\n                                  children: `${data.firstName} ${data.lastName}`\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 219,\n                                  columnNumber: 65\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 218,\n                                columnNumber: 61\n                              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                                className: \"text-muted mt-0 mb-0 pt-0 fs-13\",\n                                children: \"Registered nurse\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 221,\n                                columnNumber: 61\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 217,\n                              columnNumber: 57\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 207,\n                            columnNumber: 53\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"card-body no-padding\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"social social-profile-buttons\",\n                              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                                className: \"social-icon text-primary\",\n                                href: \"\",\n                                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fe fe-mail\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 226,\n                                  columnNumber: 109\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 226,\n                                columnNumber: 61\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"my-auto\",\n                                children: data.email\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 227,\n                                columnNumber: 61\n                              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                id: \"bAcep\",\n                                type: \"button\",\n                                className: \"btn  btn-sm\",\n                                \"data-bs-toggle\": \"modal\",\n                                \"data-bs-target\": \"#modaldemo8\",\n                                title: \"Edit email\",\n                                onClick: editEmail,\n                                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fe fe-edit\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 231,\n                                  columnNumber: 65\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 228,\n                                columnNumber: 61\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 225,\n                              columnNumber: 57\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"social social-profile-buttons\",\n                              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                                className: \"social-icon text-primary\",\n                                href: \"\",\n                                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fe fe-phone\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 235,\n                                  columnNumber: 109\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 235,\n                                columnNumber: 61\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"my-auto\",\n                                children: data.cellPhoneNumber\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 237,\n                                columnNumber: 61\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 234,\n                              columnNumber: 57\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 224,\n                            columnNumber: 53\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 206,\n                          columnNumber: 49\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"card-footer text-end\",\n                          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                            href: \"javascript:void(0)\",\n                            className: \"btn btn-primary my-1\",\n                            children: \"Update\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 242,\n                            columnNumber: 53\n                          }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n                            href: \"javascript:void(0)\",\n                            className: \"btn btn-danger my-1\",\n                            children: \"Cancel\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 243,\n                            columnNumber: 53\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 241,\n                          columnNumber: 49\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 202,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-xl-8\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"card\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"card-header\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"card-title\",\n                            children: \"Delete Account\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 250,\n                            columnNumber: 53\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 249,\n                          columnNumber: 49\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"card-body\",\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            children: \"when you delete account, you will lose all your profile and associated information\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 253,\n                            columnNumber: 53\n                          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"custom-control custom-checkbox mb-0\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 256,\n                            columnNumber: 53\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 252,\n                          columnNumber: 49\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"card-footer text-end\",\n                          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                            href: \"#\",\n                            className: \"btn btn-primary my-1\",\n                            onClick: deleteAccount,\n                            children: \"Delete Account\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 260,\n                            columnNumber: 53\n                          }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n                            href: \"javascript:void(0)\",\n                            className: \"btn btn-danger my-1\",\n                            children: \"Cancel\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 262,\n                            columnNumber: 53\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 259,\n                          columnNumber: 49\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 248,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 5\n  }, this);\n}, \"pvVUalslAMcW8wv1dFnsjpECO4k=\", false, function () {\n  return [useConfiguration, useSessionStorage, useDispatch, useValidation, useSelector, useNavigate];\n});","map":{"version":3,"sources":["D:/projects/Overture/DevOTWebUI_ReactTeam/src/components/Account/index.js"],"names":["Loader","Header","Sidebar","React","useEffect","useState","useNavigate","logOut","useSelector","useDispatch","useConfiguration","useSessionStorage","EditEmail","useValidation","requestUtil","setLoadingPageFalse","setLoadingPageTrue","Error","changeEmail","setChangeEmail","newEmail","setNewEmail","formErrors","setFormErrors","registrationErrors","setRegistrationErrors","message","setMessage","errorMessage","setErrorMessage","config","storage","dispatch","validate","login","getItem","data","personalInfoSelector","navigate","loadPersonalInfo","getCurrentPersonalInfo","url","baseUrl","userId","candidateId","document","title","loadMasterData","then","deactivateAccount","event","preventDefault","response","window","location","reload","catch","error","deleteAccount","editEmail","updateEmail","target","value","validateEmail","result","valid","errors","email","saveEmail","oldEmailId","newEmailId","validatePersonalInfo","keys","Object","registrationResult","map","key","name","savePersonalInfo","cancelEdit","firstName","lastName","cellPhoneNumber"],"mappings":"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","sourcesContent":["import Loader from \"../common/Loader\";\nimport Header from \"../common/Header\";\nimport Sidebar from \"../common/Sidebar\";\nimport React, {useEffect, useState} from \"react\";\nimport {useNavigate} from \"react-router-dom\";\nimport {logOut} from \"../Login/action\";\n\nimport {useSelector, useDispatch} from \"react-redux\";\nimport useConfiguration from \"../../hooks/useConfiguration\";\nimport useSessionStorage from \"../../hooks/useSessionStorage\";\n\nimport EditEmail from \"./editEmail\";\nimport useValidation from \"../../hooks/useValidation\";\nimport './account.css';\nimport requestUtil from \"../../helpers/requestUtil\";\nimport {setLoadingPageFalse, setLoadingPageTrue} from \"../common/Loader/action\";\nimport Error from \"../common/Message/error\";\n\nexport default () => {\n    const [changeEmail, setChangeEmail] = useState(false);\n    const [newEmail, setNewEmail] = useState('');\n    const [formErrors, setFormErrors] = useState({});\n    const [registrationErrors, setRegistrationErrors] = useState({});\n    const [message, setMessage] = useState(\"\");\n    const [errorMessage, setErrorMessage] = useState(\"\");\n    const config = useConfiguration();\n    const storage = useSessionStorage();\n    const dispatch = useDispatch();\n    const validate = useValidation();\n    const login = storage.getItem(\"login\");\n    const { data } = useSelector(personalInfoSelector);\n    const navigate = useNavigate();\n    const loadPersonalInfo = () => dispatch(getCurrentPersonalInfo({\n        url: `${config.baseUrl}/Candidates/getpersonalinfo`, userId: login.candidateId\n    }));\n    useEffect(() =>{\n        document.title=\"Overture Account\";\n        if(config.baseUrl && !data.candidateId) {\n            dispatch(loadMasterData(`${config.baseUrl}`)).then(() => {\n                loadPersonalInfo();\n            })\n        }\n    }, [config]);\n    const deactivateAccount = (event) => {\n        event.preventDefault();\n        dispatch(setLoadingPageTrue());\n        requestUtil(`${config.baseUrl}/Candidates/deactivate/${login.candidateId}`, 'POST').then(response => {\n            dispatch(logOut()).then(() => {\n                    dispatch(setLoadingPageFalse());\n                    navigate(\"/\")\n                    window.location.reload();\n                }\n            );\n        }).catch(error => {\n            dispatch(setLoadingPageFalse());\n            setErrorMessage(error.message);\n        });\n    }\n    const deleteAccount = (event) => {\n        event.preventDefault();\n        dispatch(setLoadingPageTrue());\n        requestUtil(`${config.baseUrl}/Candidates/deleteaccount/${login.candidateId}`, 'POST').then(response => {\n            dispatch(logOut()).then(() => {\n                    dispatch(setLoadingPageFalse());\n                    navigate(\"/\");\n                    window.location.reload();\n                }\n            );\n        }).catch(error => {\n            dispatch(setLoadingPageFalse());\n            setErrorMessage(error.message);\n        });\n    }\n    const editEmail = (event) => {\n        event.preventDefault();\n        setChangeEmail(!changeEmail);\n        setNewEmail('');\n        setErrorMessage('');\n        setMessage('');\n    }\n    const updateEmail = (target) => {\n        setNewEmail(target.value);\n    }\n    const validateEmail = () => {\n        const result = validate(\"updateEmail\", [{'name': 'email', data: newEmail}]);\n        if (result.valid) {\n            setFormErrors({});\n        } else {\n            setFormErrors(result.errors);\n        }\n        if(newEmail===data.email) {\n            setFormErrors({\"email\": ['New email should not be same as old email']});\n            return false;\n        }\n        return result.valid;\n    }\n    const saveEmail = (event) => {\n        event.preventDefault();\n        if(validateEmail()){\n            dispatch(setLoadingPageTrue());\n            requestUtil(`${config.baseUrl}/Candidates/updateemailid`, \"POST\", {\n                candidateId: login.candidateId,\n                oldEmailId: login.email,\n                newEmailId: newEmail\n            }).then(response => {\n                setMessage(response.message);\n                requestUtil(`${config.baseUrl}/Candidates/sendmail-for-changeemailid`, \"POST\", {\n                    candidateId: login.candidateId,\n                    oldEmailId: login.email,\n                    newEmailId: newEmail\n                }).then(response => {\n                    dispatch(getCurrentPersonalInfo({\n                        url: `${config.baseUrl}/Candidates/getpersonalinfo`, userId: login.candidateId\n                    })).then(() => {\n                        dispatch(setLoadingPageFalse());\n                    });\n                }).catch(error => {\n                    setErrorMessage(error.message || \"Failed to send email\");\n                    dispatch(setLoadingPageFalse());\n                })\n            }).catch(error => {\n                setErrorMessage(error.message || \"Failed to update email\");\n                dispatch(setLoadingPageFalse());\n            });\n        }\n    }\n    const validatePersonalInfo = () => {\n        const keys = Object.keys(data);\n        const registrationResult = validate(\"personalInfo\", keys.map(key => {\n            return {\n                name: key, data: data[key]\n            }\n        }));\n        if (registrationResult.valid) {\n            setRegistrationErrors({});\n        } else {\n            setRegistrationErrors(registrationResult.errors);\n        }\n        return registrationResult.valid;\n    }\n    const savePersonalInfo = () => {\n        if(validatePersonalInfo()){\n            dispatch(setLoadingPageTrue());\n            requestUtil(`${config.baseUrl}/Candidates/savemyaccountinfo`, \"POST\", {\n                candidateId: login.candidateId,\n                ...data\n            }).then(response => {\n                setMessage(response.message);\n                setLoadingPageFalse();\n                loadPersonalInfo();\n            }).catch(error => {\n                setErrorMessage(error.message || \"Failed to update personal info\");\n                dispatch(setLoadingPageFalse());\n            });\n        }\n    }\n    const cancelEdit = () => {\n        loadPersonalInfo();\n    }\n    return (\n    <div className=\"page\">\n        <div className=\"page-main\">\n            <Loader/>\n            <Header/>\n            <Sidebar/>\n            <div className=\"main-content app-content mt-0 main-background\">\n                <div className=\"side-app\">\n                    <div className=\"main-container container-fluid\">\n                       \n                        <div className=\"row\">\n                            {\n                                errorMessage && !changeEmail ?\n                                    <Error errorMessage={errorMessage} />\n                                    : null\n                            }\n                            <div className=\"col-xl-12\">\n                                <div className=\"card\">\n                                    {\n                                        changeEmail \n                                       \n                                    }\n                                    <div className=\"row\">\n                                        <div className=\"col-xl-8\">\n                                            \n                                            <div className=\"card\">\n                                                <div className=\"card-header\">\n                                                    <div className=\"card-title\">Deactivate Account</div>\n                                                </div>\n                                                <div className=\"card-body\">\n                                                    <p>When you de-activate you can come back anytime to re-activate</p>\n                                                    <label className=\"custom-control custom-checkbox mb-0\">\n                                                    </label>\n                                                </div>\n                                                <div className=\"card-footer text-end\">\n                                                    <a href=\"#\" onClick={deactivateAccount}\n                                                       className=\"btn btn-primary my-1\">Deactivate</a>&nbsp;\n                                                    <a href=\"javascript:void(0)\" className=\"btn btn-danger my-1\">Cancel</a>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-xl-4\">\n                                            <div className=\"card\">\n                                                <div className=\"card-header\">\n                                                    <div className=\"card-title\">Edit Contact</div>\n                                                </div>\n                                                <div className=\"card-body\">\n                                                    <div className=\"text-center chat-image mb-5\">\n                                                        <div className=\"avatar avatar-xxl chat-profile mb-3 brround\">\n                                                            <a className=\"\" href=\"#\" onClick={(event => {\n                                                                event.preventDefault();\n                                                                navigate(\"/profile\");\n                                                            })}>\n                                                                <img alt=\"avatar\" src=\"/assets/images/users/7.jpg\"\n                                                                     className=\"brround\"/>\n                                                            </a>\n                                                        </div>\n                                                        <div className=\"main-chat-msg-name\">\n                                                            <a href=\"profile.html\">\n                                                                <h5 className=\"mb-1 text-dark fw-semibold\">{`${data.firstName} ${data.lastName}`}</h5>\n                                                            </a>\n                                                            <p className=\"text-muted mt-0 mb-0 pt-0 fs-13\">Registered nurse</p>\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"card-body no-padding\">\n                                                        <div className=\"social social-profile-buttons\">\n                                                            <a className=\"social-icon text-primary\" href=\"\"><i className=\"fe fe-mail\"></i></a>\n                                                            <span className=\"my-auto\">{data.email}</span>\n                                                            <button id=\"bAcep\" type=\"button\" className=\"btn  btn-sm\"\n                                                                    data-bs-toggle=\"modal\" data-bs-target=\"#modaldemo8\"\n                                                                    title=\"Edit email\" onClick={editEmail}>\n                                                                <i className=\"fe fe-edit\"></i>\n                                                            </button>\n                                                        </div>\n                                                        <div className=\"social social-profile-buttons\">\n                                                            <a className=\"social-icon text-primary\" href=\"\"><i\n                                                                className=\"fe fe-phone\"></i></a>\n                                                            <span className=\"my-auto\">{data.cellPhoneNumber}</span>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div className=\"card-footer text-end\">\n                                                    <a href=\"javascript:void(0)\" className=\"btn btn-primary my-1\">Update</a>&nbsp;\n                                                    <a href=\"javascript:void(0)\" className=\"btn btn-danger my-1\">Cancel</a>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-xl-8\">\n                                            <div className=\"card\">\n                                                <div className=\"card-header\">\n                                                    <div className=\"card-title\">Delete Account</div>\n                                                </div>\n                                                <div className=\"card-body\">\n                                                    <p>when you delete account, you will lose all your profile and\n                                                        associated\n                                                        information</p>\n                                                    <label className=\"custom-control custom-checkbox mb-0\">\n                                                    </label>\n                                                </div>\n                                                <div className=\"card-footer text-end\">\n                                                    <a href=\"#\" className=\"btn btn-primary my-1\" onClick={deleteAccount}>Delete\n                                                        Account</a>&nbsp;\n                                                    <a href=\"javascript:void(0)\" className=\"btn btn-danger my-1\">Cancel</a>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}