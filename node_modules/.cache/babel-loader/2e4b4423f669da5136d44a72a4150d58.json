{"ast":null,"code":"import _slicedToArray from\"D:/projects/Overture/DevOTWebUI/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Loader from\"../common/Loader\";import Header from\"../common/Header\";import Sidebar from\"../common/Sidebar\";import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import useSessionStorage from\"../../hooks/useSessionStorage\";import TextField from\"../common/TextField\";import requestUtil from\"../../helpers/requestUtil\";import useConfiguration from\"../../hooks/useConfiguration\";import useValidation from\"../../hooks/useValidation\";import{setLoadingPageFalse,setLoadingPageTrue}from\"../common/Loader/action\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default(function(){var storage=useSessionStorage();var navigate=useNavigate();var config=useConfiguration();var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),currentPassword=_useState2[0],setCurrentPassword=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newPassword=_useState4[0],setNewPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),confirmPassword=_useState6[0],setConfirmPassword=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),errorMessage=_useState8[0],setErrorMessage=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),formErrors=_useState10[0],setFormErrors=_useState10[1];//const [passwordType, setPasswordType] = useState(\"password\");\nvar login=storage.getItem(\"login\");var validate=useValidation();var updateFormValue=function updateFormValue(target){if(target.name===\"currentPassword\"){setCurrentPassword(target.value);}else if(target.name===\"newPassword\"){setNewPassword(target.value);}else if(target.name===\"confirmPassword\"){setConfirmPassword(target.value);}};var validateForm=function validateForm(){var result=validate('updatePassword',[{name:'currentPassword',data:currentPassword},{name:'newPassword',data:newPassword},{name:'confirmPassword',data:confirmPassword}]);if(result.valid){setFormErrors({});}else{setFormErrors(result.errors);}return result.valid;};var customPasswordCheck=function customPasswordCheck(){if(newPassword&&confirmPassword){if(newPassword!==confirmPassword){setFormErrors({'confirmPassword':[\"Password and Confirm Password must be same\"]});return false;}}if(currentPassword&&newPassword){if(currentPassword===newPassword){setFormErrors({'newPassword':[\"New Password must be different from Current Password\"]});return false;}}return true;};var updatePassword=function updatePassword(event){event.preventDefault();if(validateForm()&&customPasswordCheck()){dispatch(setLoadingPageTrue());requestUtil(\"\".concat(config.baseUrl,\"/Candidates/changepassword/\"),\"POST\",{candidateId:login.candidateId,oldPassword:currentPassword,newPassword:newPassword}).then(function(result){dispatch(setLoadingPageFalse());if(result&&result.isEmailExist){navigate(\"/dashboard\");}else{setErrorMessage(result.message);}}).catch(function(error){dispatch(setLoadingPageFalse());setErrorMessage(error.message);});}};useEffect(function(){if(!login){// navigate('/');\n}},[]);var _useState11=useState(\"password\"),_useState12=_slicedToArray(_useState11,2),passwordType=_useState12[0],setPasswordType=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),passwordInput=_useState14[0],setPasswordInput=_useState14[1];var _useState15=useState(\"zmdi zmdi-eye-off text-muted\"),_useState16=_slicedToArray(_useState15,2),iconStyleText=_useState16[0],seticonStyleText=_useState16[1];var handlePasswordChange=function handlePasswordChange(evnt){setPasswordInput(evnt.target.value);};var togglePassword=function togglePassword(){if(passwordType===\"password\"){setPasswordType(\"text\");seticonStyleText(\"zmdi zmdi-eye text-muted\");return;}setPasswordType(\"password\");seticonStyleText(\"zmdi zmdi-eye-off text-muted\");};var _useState17=useState(\"password\"),_useState18=_slicedToArray(_useState17,2),passwordTypeNew=_useState18[0],setPasswordTypeNew=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),passwordInputNew=_useState20[0],setPasswordInputNew=_useState20[1];var _useState21=useState(\"zmdi zmdi-eye-off text-muted\"),_useState22=_slicedToArray(_useState21,2),iconStyleTextNew=_useState22[0],seticonStyleTextNew=_useState22[1];var handlePasswordChangeNew=function handlePasswordChangeNew(evnt){setPasswordInputNew(evnt.target.value);};var togglePasswordNew=function togglePasswordNew(){if(passwordTypeNew===\"password\"){setPasswordTypeNew(\"text\");seticonStyleTextNew(\"zmdi zmdi-eye text-muted\");return;}setPasswordTypeNew(\"password\");seticonStyleTextNew(\"zmdi zmdi-eye-off text-muted\");};var _useState23=useState(\"password\"),_useState24=_slicedToArray(_useState23,2),passwordTypeConfirm=_useState24[0],setPasswordTypeConfirm=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),passwordInputConfirm=_useState26[0],setPasswordInputConfirm=_useState26[1];var _useState27=useState(\"zmdi zmdi-eye-off text-muted\"),_useState28=_slicedToArray(_useState27,2),iconStyleTextConfirm=_useState28[0],seticonStyleTextConfirm=_useState28[1];var handlePasswordChangeConfirm=function handlePasswordChangeConfirm(evnt){setPasswordInputConfirm(evnt.target.value);};var togglePasswordConfirm=function togglePasswordConfirm(){if(passwordTypeConfirm===\"password\"){setPasswordTypeConfirm(\"text\");seticonStyleTextConfirm(\"zmdi zmdi-eye text-muted\");return;}setPasswordTypeConfirm(\"password\");seticonStyleTextConfirm(\"zmdi zmdi-eye-off text-muted\");};return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-main\",children:[/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content app-content mt-0 main-background\",children:/*#__PURE__*/_jsx(\"div\",{className:\"side-app\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-container container-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Update Password\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"javascript:void(0)\",children:\"Dashboard\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",\"aria-current\":\"page\",children:/*#__PURE__*/_jsx(\"a\",{href:\"javascript:void(0)\",children:\"Profile Builder\"})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Update Password\"})}),errorMessage&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"toast wrap-input100 align-items-center text-white bg-danger border-0 show\",role:\"alert\",\"aria-live\":\"assertive\",\"aria-atomic\":\"true\",\"data-bs-autohide\":\"false\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex\",children:/*#__PURE__*/_jsx(\"div\",{className:\"toast-body\",children:errorMessage||'Reset password failed! Please try again.'})})}),/*#__PURE__*/_jsx(\"div\",{children:\"\\xA0\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 col-xl-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputname\",children:/*#__PURE__*/_jsxs(\"b\",{children:[\"Email :\",login&&login.email,\" \"]})})})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(TextField,{placeholder:\"Current Password*\",divClass:\"col-lg-6\",label:\"Current Password\",name:'currentPassword',type:passwordType,iconClass:iconStyleText,onChange:handlePasswordChange,errors:formErrors['currentPassword'],clickeye:togglePassword,updateValue:updateFormValue})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(TextField,{placeholder:\"New Password*\",divClass:\"col-lg-6\",label:\"New Password\",name:'newPassword',type:passwordTypeNew,iconClass:iconStyleTextNew,onChange:handlePasswordChangeNew,errors:formErrors['newPassword'],clickeye:togglePasswordNew,updateValue:updateFormValue})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(TextField,{placeholder:\"Confirm Password*\",divClass:\"col-lg-6\",label:\"Confirm Password\",name:'confirmPassword',type:passwordTypeConfirm,iconClass:iconStyleTextConfirm,onChange:handlePasswordChangeConfirm,errors:formErrors['confirmPassword'],clickeye:togglePasswordConfirm,updateValue:updateFormValue})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-footer text-end\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"btn btn-primary my-1\",onClick:updatePassword,children:\"Update Password\"}),\"\\xA0\\xA0\",/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"btn btn-danger my-1\",onClick:function onClick(){navigate('/dashboard');},children:\"Cancel\"})]})]})})})})]})})})]})});});","map":{"version":3,"sources":["D:/projects/Overture/DevOTWebUI/src/components/UpdatePassword/index.js"],"names":["Loader","Header","Sidebar","React","useEffect","useState","useNavigate","useDispatch","useSessionStorage","TextField","requestUtil","useConfiguration","useValidation","setLoadingPageFalse","setLoadingPageTrue","storage","navigate","config","dispatch","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","errorMessage","setErrorMessage","formErrors","setFormErrors","login","getItem","validate","updateFormValue","target","name","value","validateForm","result","data","valid","errors","customPasswordCheck","updatePassword","event","preventDefault","baseUrl","candidateId","oldPassword","then","isEmailExist","message","catch","error","passwordType","setPasswordType","passwordInput","setPasswordInput","iconStyleText","seticonStyleText","handlePasswordChange","evnt","togglePassword","passwordTypeNew","setPasswordTypeNew","passwordInputNew","setPasswordInputNew","iconStyleTextNew","seticonStyleTextNew","handlePasswordChangeNew","togglePasswordNew","passwordTypeConfirm","setPasswordTypeConfirm","passwordInputConfirm","setPasswordInputConfirm","iconStyleTextConfirm","seticonStyleTextConfirm","handlePasswordChangeConfirm","togglePasswordConfirm","email"],"mappings":"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","sourcesContent":["import Loader from \"../common/Loader\";\nimport Header from \"../common/Header\";\nimport Sidebar from \"../common/Sidebar\";\nimport React, {useEffect, useState} from \"react\";\nimport {useNavigate} from \"react-router-dom\";\nimport {useDispatch} from \"react-redux\";\nimport useSessionStorage from \"../../hooks/useSessionStorage\";\nimport TextField from \"../common/TextField\";\nimport requestUtil from \"../../helpers/requestUtil\";\nimport useConfiguration from \"../../hooks/useConfiguration\";\nimport useValidation from \"../../hooks/useValidation\";\nimport {setLoadingPageFalse, setLoadingPageTrue} from \"../common/Loader/action\";\n\nexport default () => {\n    const storage = useSessionStorage();\n    const navigate = useNavigate();\n    const config = useConfiguration();\n    const dispatch = useDispatch();\n    const [currentPassword, setCurrentPassword] = useState('');\n    const [newPassword, setNewPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const [errorMessage, setErrorMessage] = useState(null);\n    const [formErrors, setFormErrors] = useState({});\n    //const [passwordType, setPasswordType] = useState(\"password\");\n    const login = storage.getItem(\"login\");\n    const validate = useValidation();\n    const updateFormValue = (target) => {\n        if (target.name === \"currentPassword\") {\n            setCurrentPassword(target.value);\n        } else if (target.name === \"newPassword\") {\n            setNewPassword(target.value);\n        } else if(target.name === \"confirmPassword\") {\n            setConfirmPassword(target.value);\n        }\n    }\n    const validateForm = () => {\n        const result = validate('updatePassword', [{name: 'currentPassword', data: currentPassword} , {name: 'newPassword', data: newPassword}, {name: 'confirmPassword', data: confirmPassword}]);\n        if(result.valid){\n            setFormErrors({});\n        } else {\n            setFormErrors(result.errors);\n        }\n        return result.valid;\n    }\n    const customPasswordCheck = () => {\n        if(newPassword && confirmPassword){\n            if(newPassword !== confirmPassword){\n                setFormErrors({'confirmPassword': [\"Password and Confirm Password must be same\"]});\n                return false;\n            }\n        }\n        if(currentPassword && newPassword){\n            if(currentPassword === newPassword){\n                setFormErrors({'newPassword': [\"New Password must be different from Current Password\"]});\n                return false;\n            }\n        }\n        return true;\n    }\n    const updatePassword = (event) => {\n        event.preventDefault();\n        if(validateForm() && customPasswordCheck()) {\n            dispatch(setLoadingPageTrue());\n            requestUtil(`${config.baseUrl}/Candidates/changepassword/`, \"POST\", {\n                candidateId: login.candidateId,\n                oldPassword: currentPassword,\n                newPassword: newPassword\n            }).then((result) => {\n                dispatch(setLoadingPageFalse());\n                if (result && result.isEmailExist) {\n                    navigate(\"/dashboard\");\n                } else {\n                    setErrorMessage(result.message);\n                }\n            }).catch((error) => {\n                dispatch(setLoadingPageFalse());\n                setErrorMessage(error.message);\n            });\n        }\n    }\n    useEffect(() => {\n        if(!login) {\n           // navigate('/');\n        }\n    }, [])\n    \n    \n  const [passwordType, setPasswordType] = useState(\"password\");    \n  const [passwordInput, setPasswordInput] = useState(\"\");\n  const [iconStyleText, seticonStyleText] = useState(\"zmdi zmdi-eye-off text-muted\");\n  const handlePasswordChange =(evnt)=>{\n      setPasswordInput(evnt.target.value);\n  }\n  const togglePassword =()=>{\n    if(passwordType===\"password\")\n    {\n     setPasswordType(\"text\")\n     seticonStyleText(\"zmdi zmdi-eye text-muted\")\n     return;\n    }\n    setPasswordType(\"password\")\n    seticonStyleText(\"zmdi zmdi-eye-off text-muted\")\n  }\n\n  const [passwordTypeNew, setPasswordTypeNew] = useState(\"password\");    \n  const [passwordInputNew, setPasswordInputNew] = useState(\"\");\n  const [iconStyleTextNew, seticonStyleTextNew] = useState(\"zmdi zmdi-eye-off text-muted\");\n  const handlePasswordChangeNew =(evnt)=>{\n      setPasswordInputNew(evnt.target.value);\n  }\n  const togglePasswordNew =()=>{\n    if(passwordTypeNew===\"password\")\n    {\n     setPasswordTypeNew(\"text\")\n     seticonStyleTextNew(\"zmdi zmdi-eye text-muted\")\n     return;\n    }\n    setPasswordTypeNew(\"password\")\n    seticonStyleTextNew(\"zmdi zmdi-eye-off text-muted\")\n  }\n\n  const [passwordTypeConfirm, setPasswordTypeConfirm] = useState(\"password\");    \n  const [passwordInputConfirm, setPasswordInputConfirm] = useState(\"\");\n  const [iconStyleTextConfirm, seticonStyleTextConfirm] = useState(\"zmdi zmdi-eye-off text-muted\");\n  const handlePasswordChangeConfirm =(evnt)=>{\n      setPasswordInputConfirm(evnt.target.value);\n  }\n  const togglePasswordConfirm =()=>{\n    if(passwordTypeConfirm===\"password\")\n    {\n     setPasswordTypeConfirm(\"text\")\n     seticonStyleTextConfirm(\"zmdi zmdi-eye text-muted\")\n     return;\n    }\n    setPasswordTypeConfirm(\"password\")\n    seticonStyleTextConfirm(\"zmdi zmdi-eye-off text-muted\")\n  }\n\n    return (\n        <div className=\"page\">\n            <div className=\"page-main\">\n                <Loader />\n                <Header />\n                <Sidebar />\n                <div className=\"main-content app-content mt-0 main-background\">\n                    <div className=\"side-app\">\n                        <div className=\"main-container container-fluid\">\n                            <div className=\"page-header\">\n                                <h1 className=\"page-title\">Update Password</h1>\n                                <div>\n                                    <ol className=\"breadcrumb\">\n                                        <li className=\"breadcrumb-item\"><a href=\"javascript:void(0)\">Dashboard</a></li>\n                                        <li className=\"breadcrumb-item\" aria-current=\"page\"><a\n                                            href=\"javascript:void(0)\">Profile Builder</a></li>\n                                    </ol>\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"row\">\n                                    <div className=\"col-xl-8\">\n                                        <div className=\"card\">\n                                            <div className=\"card-header\">\n                                                <h3 className=\"card-title\">Update Password</h3>\n                                            </div>\n                                            {\n                                                errorMessage &&\n                                                <>\n                                                    <div className=\"toast wrap-input100 align-items-center text-white bg-danger border-0 show\"\n                                                         role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-autohide=\"false\">\n                                                        <div className=\"d-flex\">\n                                                            <div className=\"toast-body\">\n                                                                {errorMessage || 'Reset password failed! Please try again.'}\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div>&nbsp;</div>\n                                                </>\n                                            }\n                                            <div className=\"col-md-12 col-xl-12\">\n                                                <div className=\"card-body\">\n                                                    <div className=\"row\">\n                                                        <div className=\"col-lg-6 col-md-12\">\n                                                            <div className=\"form-group\">\n                                                                <h5><label htmlFor=\"exampleInputname\"><b>Email :\n                                                                    {login && login.email} </b></label></h5>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"row\">\n                                                        <TextField placeholder={\"Current Password*\"} divClass={\"col-lg-6\"} label={\"Current Password\"}\n                                                                   name={'currentPassword'} type={passwordType} \n                                                                   iconClass={iconStyleText} onChange={handlePasswordChange}\n                                                                   errors={formErrors['currentPassword']} clickeye={togglePassword}\n                                                                   updateValue={updateFormValue}/>\n                                                    </div>\n                                                    <div className=\"row\">\n                                                        <TextField placeholder={\"New Password*\"} divClass={\"col-lg-6\"} label={\"New Password\"}\n                                                                   name={'newPassword'} type={passwordTypeNew} \n                                                                   iconClass={iconStyleTextNew} onChange={handlePasswordChangeNew} \n                                                                   errors={formErrors['newPassword']} clickeye={togglePasswordNew}\n                                                                   updateValue={updateFormValue}/>\n                                                    </div>\n                                                    <div className=\"row\">\n                                                        <TextField placeholder={\"Confirm Password*\"} divClass={\"col-lg-6\"} label={\"Confirm Password\"}\n                                                                   name={'confirmPassword'} type={passwordTypeConfirm} \n                                                                   iconClass={iconStyleTextConfirm} onChange={handlePasswordChangeConfirm}\n                                                                   errors={formErrors['confirmPassword']} clickeye={togglePasswordConfirm}\n                                                                   updateValue={updateFormValue}/>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div className=\"card-footer text-end\">\n                                                <a href=\"#\" className=\"btn btn-primary my-1\" onClick={updatePassword}>Update Password</a>\n                                                &nbsp;&nbsp;\n                                                <a href=\"#\" className=\"btn btn-danger my-1\" onClick={()=> {\n                                                    navigate('/dashboard');\n                                                }}>Cancel</a>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}