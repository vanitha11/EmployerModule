{"ast":null,"code":"import _slicedToArray from\"D:/projects/Overture/DevOTWebUI/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Loader from\"../common/Loader\";import TextField from\"../common/TextField\";import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{useSearchParams}from\"react-router-dom\";import{setLoadingPageTrue,setLoadingPageFalse}from\"../common/Loader/action\";import{useDispatch}from\"react-redux\";import useConfiguration from\"../../hooks/useConfiguration\";import requestUtil from\"../../helpers/requestUtil\";import useValidation from\"../../hooks/useValidation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default(function(){var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,2),searchParams=_useSearchParams2[0],setSearchParams=_useSearchParams2[1];var code=encodeURIComponent(searchParams.get(\"resetCode\"));var config=useConfiguration();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),errorMessage=_useState2[0],setErrorMessage=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),validEmail=_useState6[0],setValidEmail=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),newPassword=_useState8[0],setNewPassword=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),confirmNewPassword=_useState10[0],setConfirmNewPassword=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),userName=_useState12[0],setUserName=_useState12[1];var url=config.baseUrl;var validate=useValidation();var dispatch=useDispatch();var navigate=useNavigate();useEffect(function(){document.title=\"Reset Password\";if(code&&url){dispatch(setLoadingPageTrue());//requestUtil(`${url}/Candidates/validateaccountforforgetpassword?activationcode=${code}`, \"GET\").then((result) => {\nrequestUtil(\"\".concat(url,\"/Candidates/validateaccountforforgetpasswordcandidate?activationcode=\").concat(code),\"POST\",{EncryptedString:code}).then(function(result){dispatch(setLoadingPageFalse());if(result&&result.isEmailExist){setValidEmail(true);setUserName(result.email);}else{setErrorMessage(result.message);}}).catch(function(error){dispatch(setLoadingPageFalse());setErrorMessage(error.message||\"Something went wrong\");});}},[code,url]);var validateForm=function validateForm(){var result=validate('resetPassword',[{name:'newPassword',data:newPassword},{name:'confirmNewPassword',data:confirmNewPassword}]);if(result.valid){setFormErrors({});}else{setFormErrors(result.errors);}return result.valid;};var customPasswordCheck=function customPasswordCheck(){if(newPassword&&confirmNewPassword){if(newPassword!==confirmNewPassword){setFormErrors({'confirmNewPassword':[\"Password and Confirm Password must be same\"]});return false;}}return true;};var updateFormValue=function updateFormValue(target){if(target.name===\"newPassword\"){setNewPassword(target.value);}else if(target.name===\"confirmNewPassword\"){setConfirmNewPassword(target.value);}};var resetPassword=function resetPassword(event){event.preventDefault();if(validateForm()&&customPasswordCheck()){dispatch(setLoadingPageTrue());requestUtil(\"\".concat(url,\"/Candidates/resetpassword/\").concat(userName,\"/\").concat(newPassword),\"POST\",{password:formErrors.password}).then(function(result){dispatch(setLoadingPageFalse());if(result&&result.isEmailExist){navigate(\"/\");}else{setErrorMessage(result.message);}}).catch(function(error){dispatch(setLoadingPageFalse());setErrorMessage(error.message);});}};var gotoLogin=function gotoLogin(e){e.preventDefault();navigate(\"/\");};var _useState13=useState(\"password\"),_useState14=_slicedToArray(_useState13,2),passwordType=_useState14[0],setPasswordType=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),passwordInput=_useState16[0],setPasswordInput=_useState16[1];var _useState17=useState(\"zmdi zmdi-eye-off text-muted\"),_useState18=_slicedToArray(_useState17,2),iconStyleText=_useState18[0],seticonStyleText=_useState18[1];var handlePasswordChange=function handlePasswordChange(evnt){setPasswordInput(evnt.target.value);};var togglePassword=function togglePassword(){if(passwordType===\"password\"){setPasswordType(\"text\");seticonStyleText(\"zmdi zmdi-eye text-muted\");return;}setPasswordType(\"password\");seticonStyleText(\"zmdi zmdi-eye-off text-muted\");};var _useState19=useState(\"password\"),_useState20=_slicedToArray(_useState19,2),passwordTypeConfirm=_useState20[0],setPasswordTypeConfirm=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),passwordInputConfirm=_useState22[0],setPasswordInputConfirm=_useState22[1];var _useState23=useState(\"zmdi zmdi-eye-off text-muted\"),_useState24=_slicedToArray(_useState23,2),iconStyleTextConfirm=_useState24[0],seticonStyleTextConfirm=_useState24[1];var handlePasswordChangeConfirm=function handlePasswordChangeConfirm(evnt){setPasswordInputConfirm(evnt.target.value);};var togglePasswordConfirm=function togglePasswordConfirm(){if(passwordTypeConfirm===\"password\"){setPasswordTypeConfirm(\"text\");seticonStyleTextConfirm(\"zmdi zmdi-eye text-muted\");return;}setPasswordTypeConfirm(\"password\");seticonStyleTextConfirm(\"zmdi zmdi-eye-off text-muted\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-login100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wrap-login100 p-6\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"login100-form validate-form\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"login100-form-title pb-5\",children:/*#__PURE__*/_jsx(\"a\",{href:\"\",children:/*#__PURE__*/_jsx(\"img\",{src:\"assets/images/brand/logo-3.png\",className:\"header-brand-img\",alt:\"\"})})}),/*#__PURE__*/_jsx(\"span\",{className:\"login100-form-title pb-5\",children:\"Password Reset\"}),errorMessage&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"toast wrap-input100 align-items-center text-white bg-danger border-0 show\",role:\"alert\",\"aria-live\":\"assertive\",\"aria-atomic\":\"true\",\"data-bs-autohide\":\"false\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex\",children:/*#__PURE__*/_jsx(\"div\",{className:\"toast-body\",children:errorMessage||'Reset password failed! Please try again.'})})}),/*#__PURE__*/_jsx(\"div\",{children:\"\\xA0\"})]}),validEmail&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TextField,{placeholder:\"Password\",divClass:\"col-lg-12\",label:\"New Password\",name:'newPassword',type:passwordType,clickeye:togglePassword,iconClass:iconStyleText,onChange:handlePasswordChange,errors:formErrors['newPassword'],updateValue:updateFormValue}),/*#__PURE__*/_jsx(TextField,{placeholder:\"Confirm Password\",divClass:\"col-lg-12\",label:\"Confirm Password\",name:'confirmNewPassword',type:passwordTypeConfirm,clickeye:togglePasswordConfirm,iconClass:iconStyleTextConfirm,onChange:handlePasswordChangeConfirm,errors:formErrors['confirmNewPassword'],updateValue:updateFormValue}),/*#__PURE__*/_jsx(\"div\",{className:\"submit\",children:/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-primary d-grid\",href:\"#\",onClick:resetPassword,children:\"Save\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-4\",children:/*#__PURE__*/_jsx(\"a\",{className:\"text-primary ms-1\",href:\"#\",onClick:gotoLogin,children:\"Login\"})})]})})})})]});});","map":{"version":3,"sources":["D:/projects/Overture/DevOTWebUI/src/components/ResetPassword/index.js"],"names":["Loader","TextField","React","useState","useEffect","useNavigate","useSearchParams","setLoadingPageTrue","setLoadingPageFalse","useDispatch","useConfiguration","requestUtil","useValidation","searchParams","setSearchParams","code","encodeURIComponent","get","config","errorMessage","setErrorMessage","formErrors","setFormErrors","validEmail","setValidEmail","newPassword","setNewPassword","confirmNewPassword","setConfirmNewPassword","userName","setUserName","url","baseUrl","validate","dispatch","navigate","document","title","EncryptedString","then","result","isEmailExist","email","message","catch","error","validateForm","name","data","valid","errors","customPasswordCheck","updateFormValue","target","value","resetPassword","event","preventDefault","password","gotoLogin","e","passwordType","setPasswordType","passwordInput","setPasswordInput","iconStyleText","seticonStyleText","handlePasswordChange","evnt","togglePassword","passwordTypeConfirm","setPasswordTypeConfirm","passwordInputConfirm","setPasswordInputConfirm","iconStyleTextConfirm","seticonStyleTextConfirm","handlePasswordChangeConfirm","togglePasswordConfirm"],"mappings":"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","sourcesContent":["import Loader from \"../common/Loader\";\nimport TextField from \"../common/TextField\";\nimport React, {useState, useEffect} from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { setLoadingPageTrue, setLoadingPageFalse } from \"../common/Loader/action\";\nimport {useDispatch} from \"react-redux\";\nimport useConfiguration from \"../../hooks/useConfiguration\";\nimport requestUtil from \"../../helpers/requestUtil\";\nimport useValidation from \"../../hooks/useValidation\";\n\nexport default () => {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const code = encodeURIComponent(searchParams.get(\"resetCode\"));\n    const config = useConfiguration();\n    const [errorMessage, setErrorMessage] = useState(null);\n    const [formErrors, setFormErrors] = useState({});\n    const [validEmail, setValidEmail] = useState(false);\n    const [newPassword, setNewPassword] = useState(\"\");\n    const [confirmNewPassword, setConfirmNewPassword] = useState(\"\");\n    const [userName, setUserName] = useState(\"\");\n    const url = config.baseUrl;\n    const validate = useValidation();\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    useEffect(() => {\n        document.title = \"Reset Password\";\n        if (code && url) {\n            dispatch(setLoadingPageTrue());\n            //requestUtil(`${url}/Candidates/validateaccountforforgetpassword?activationcode=${code}`, \"GET\").then((result) => {\n            requestUtil(`${url}/Candidates/validateaccountforforgetpasswordcandidate?activationcode=${code}`, \"POST\",  {EncryptedString: code}).then((result) => {\n                dispatch(setLoadingPageFalse());\n                if(result && result.isEmailExist){\n                    setValidEmail(true);\n                    setUserName(result.email);\n                } else {\n                    setErrorMessage(result.message);\n                }\n            }).catch((error) => {\n                dispatch(setLoadingPageFalse());\n                setErrorMessage(error.message || \"Something went wrong\");\n            });\n        }\n    }, [code, url])\n    const validateForm = () => {\n        const result = validate('resetPassword', [{name: 'newPassword', data: newPassword} , {name: 'confirmNewPassword', data: confirmNewPassword}]);\n        if(result.valid){\n            setFormErrors({});\n        } else {\n            setFormErrors(result.errors);\n        }\n        return result.valid;\n    }\n    const customPasswordCheck = () => {\n        if(newPassword && confirmNewPassword){\n            if(newPassword !== confirmNewPassword){\n                setFormErrors({'confirmNewPassword': [\"Password and Confirm Password must be same\"]});\n                return false;\n            }\n        }\n        return true;\n    }\n    const updateFormValue = (target) => {\n        if (target.name === \"newPassword\") {\n            setNewPassword(target.value);\n        } else if (target.name === \"confirmNewPassword\") {\n            setConfirmNewPassword(target.value);\n        }\n    }\n    const resetPassword = (event) => {\n        event.preventDefault();\n        if(validateForm() && customPasswordCheck()) {\n            dispatch(setLoadingPageTrue());\n            requestUtil(`${url}/Candidates/resetpassword/${userName}/${newPassword}`, \"POST\", {\n                password: formErrors.password\n            }).then((result) => {\n                dispatch(setLoadingPageFalse());\n                if (result && result.isEmailExist) {\n                    navigate(\"/\");\n                } else {\n                    setErrorMessage(result.message);\n                }\n            }).catch((error) => {\n                dispatch(setLoadingPageFalse());\n                setErrorMessage(error.message);\n            });\n        }\n    }\n    const gotoLogin = (e) => {\n        e.preventDefault();\n        navigate(\"/\");\n    }\n\n    \n  const [passwordType, setPasswordType] = useState(\"password\");    \n  const [passwordInput, setPasswordInput] = useState(\"\");\n  const [iconStyleText, seticonStyleText] = useState(\"zmdi zmdi-eye-off text-muted\");\n  const handlePasswordChange =(evnt)=>{\n      setPasswordInput(evnt.target.value);\n  }\n  const togglePassword =()=>{\n    if(passwordType===\"password\")\n    {\n     setPasswordType(\"text\")\n     seticonStyleText(\"zmdi zmdi-eye text-muted\")\n     return;\n    }\n    setPasswordType(\"password\")\n    seticonStyleText(\"zmdi zmdi-eye-off text-muted\")\n  }\n\n  const [passwordTypeConfirm, setPasswordTypeConfirm] = useState(\"password\");    \n  const [passwordInputConfirm, setPasswordInputConfirm] = useState(\"\");\n  const [iconStyleTextConfirm, seticonStyleTextConfirm] = useState(\"zmdi zmdi-eye-off text-muted\");\n  const handlePasswordChangeConfirm =(evnt)=>{\n      setPasswordInputConfirm(evnt.target.value);\n  }\n  const togglePasswordConfirm =()=>{\n    if(passwordTypeConfirm===\"password\")\n    {\n     setPasswordTypeConfirm(\"text\")\n     seticonStyleTextConfirm(\"zmdi zmdi-eye text-muted\")\n     return;\n    }\n    setPasswordTypeConfirm(\"password\")\n    seticonStyleTextConfirm(\"zmdi zmdi-eye-off text-muted\")\n  }\n\n    return (\n        <div className=\"page\">\n            <Loader />\n            <div className=\"\">\n                <div className=\"container-login100\">\n                    <div className=\"wrap-login100 p-6\">\n                        <form className=\"login100-form validate-form\">\n                            <span  className=\"login100-form-title pb-5\">\n                                <a href=\"\">\n                                    <img src=\"assets/images/brand/logo-3.png\" className=\"header-brand-img\" alt=\"\" />\n                                </a>\n                            </span>\n                            <span className=\"login100-form-title pb-5\">\n                                Password Reset\n                            </span>\n                            {\n                                errorMessage &&\n                                <>\n                                    <div className=\"toast wrap-input100 align-items-center text-white bg-danger border-0 show\"\n                                         role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-autohide=\"false\">\n                                        <div className=\"d-flex\">\n                                            <div className=\"toast-body\">\n                                                {errorMessage || 'Reset password failed! Please try again.'}\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div>&nbsp;</div>\n                                </>\n                            }\n                            {\n                                validEmail && <>\n                                    <TextField placeholder={\"Password\"} divClass={\"col-lg-12\"} label={\"New Password\"}\n                                               name={'newPassword'} type={passwordType} clickeye={togglePassword}\n                                               iconClass={iconStyleText} onChange={handlePasswordChange} errors={formErrors['newPassword']}\n                                               updateValue={updateFormValue}/>\n\n                                    \n                                    <TextField placeholder={\"Confirm Password\"} divClass={\"col-lg-12\"} label={\"Confirm Password\"} \n                                    name={'confirmNewPassword'} type={passwordTypeConfirm}  clickeye={togglePasswordConfirm}\n                                    iconClass={iconStyleTextConfirm} onChange={handlePasswordChangeConfirm} errors={formErrors['confirmNewPassword']} updateValue={updateFormValue}/>\n                                    \n                                    \n                                    \n                                    <div className=\"submit\">\n                                    <a className=\"btn btn-primary d-grid\" href=\"#\" onClick={resetPassword}>Save</a>\n                                    </div>\n                                </>\n                            }\n                            <div className=\"text-center mt-4\">\n                                <a className=\"text-primary ms-1\" href=\"#\" onClick={gotoLogin}>Login</a>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}